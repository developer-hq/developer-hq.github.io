<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://developer-hq.github.io/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://developer-hq.github.io/"/>





  <title>Hexo</title>
  








<meta name="generator" content="Hexo 6.3.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/05/06/%E5%85%89%E7%8C%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/05/06/%E5%85%89%E7%8C%AB/" itemprop="url">光猫</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-05-06T18:29:26+08:00">
                2023-05-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/04/29/%E5%9C%A8%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E5%99%A8%E4%B8%AD%E6%89%93%E5%BC%80%E5%BD%93%E5%89%8D%E8%B7%AF%E5%BE%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/04/29/%E5%9C%A8%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E5%99%A8%E4%B8%AD%E6%89%93%E5%BC%80%E5%BD%93%E5%89%8D%E8%B7%AF%E5%BE%84/" itemprop="url">CMD在资源管理器中打开当前路径</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-04-29T23:40:10+08:00">
                2023-04-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="【Windows-命令行】CMD-在资源管理器中打开当前路径"><a href="#【Windows-命令行】CMD-在资源管理器中打开当前路径" class="headerlink" title="【Windows 命令行】CMD 在资源管理器中打开当前路径"></a>【Windows 命令行】CMD 在资源管理器中打开当前路径</h1><p>输出：<code>explorer %cd%</code>回车</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u014636245/article/details/89889671">https://blog.csdn.net/u014636245/article/details/89889671</a></p>
<p>CMD中利用资源管理器打开当前路径</p>
<p>在cmd中需要查看文件夹对应资源时，手动打开十分不便，利用explorer命令可以便捷的打开对应的路径：</p>
<p>输出：explorer %cd%回车<br>在这里插入图片描述<br>效果：<br>在这里插入图片描述<br>解释</p>
<p>%cd%为current directory,系统环境变量，表示当前目录位置，可以输出确认：<br>在这里插入图片描述<br>exploreor是资源管理器的命令，可以接受path路径作为输入。</p>
<p>ref:<br><a target="_blank" rel="noopener" href="https://wenwen.sogou.com/z/q825809466.htm">https://wenwen.sogou.com/z/q825809466.htm</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/30219402">https://zhuanlan.zhihu.com/p/30219402</a><br>explorer params:<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/yunyu5120/article/details/6024506">https://blog.csdn.net/yunyu5120/article/details/6024506</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/zhuzhuyule/article/details/51063148">https://blog.csdn.net/zhuzhuyule/article/details/51063148</a></p>
<p>在这里插入图片描述</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/04/26/Nas/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/04/26/Nas/" itemprop="url">Nas</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-04-26T19:09:51+08:00">
                2023-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ikuai"><a href="#ikuai" class="headerlink" title="ikuai"></a>ikuai</h1><p>http:</p>
<p>192.168.0.107:8881</p>
<p>https:</p>
<p>192.168.0.107:4443</p>
<p><img src="/2023/04/26/Nas/image-20230502140849515.png" alt="image-20230502140849515"></p>
<p><img src="/2023/04/26/Nas/image-20230502140813570.png" alt="image-20230502140813570"></p>
<p><img src="/2023/04/26/Nas/image-20230502140806094.png" alt="image-20230502140758186"></p>
<p>bash设置lan，wan</p>
<p>进来设置dhcp，lan</p>
<p>重启本地网络</p>
<h1 id="群晖"><a href="#群晖" class="headerlink" title="群晖"></a>群晖</h1><p>192.168.0.107:5000</p>
<p>samba也打开了</p>
<h1 id="esxi"><a href="#esxi" class="headerlink" title="esxi"></a>esxi</h1><p>DMZ主机</p>
<p>直接访问</p>
<p>192.168.0.107</p>
<h2 id="rdm硬盘直通"><a href="#rdm硬盘直通" class="headerlink" title="rdm硬盘直通"></a>rdm硬盘直通</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">vmkfstools -z /vmfs/devices/disks/t10.ATA_____ST4000VX0152D3CU104__________________________________WW6083E7 /vmfs/volumes/6449615b-232b02f8-41d2-309c23af5243/HDD1.vmdk &amp;&amp;</span><br><span class="line"></span><br><span class="line">vmkfstools -z /vmfs/devices/disks/t10.ATA_____ST4000VX0152D3CU104__________________________________WW607DYE /vmfs/volumes/6449615b-232b02f8-41d2-309c23af5243/HDD2.vmdk &amp;&amp;</span><br><span class="line"></span><br><span class="line">vmkfstools -z /vmfs/devices/disks/t10.ATA_____ST4000VX0152D3CU104__________________________________WW607DVN /vmfs/volumes/6449615b-232b02f8-41d2-309c23af5243/HDD3.vmdk &amp;&amp;</span><br><span class="line"></span><br><span class="line">vmkfstools -z /vmfs/devices/disks/t10.ATA_____ST4000VX0152D3CU104__________________________________WW6083GG /vmfs/volumes/6449615b-232b02f8-41d2-309c23af5243/HDD4.vmdk &amp;&amp;</span><br><span class="line"></span><br><span class="line">vmkfstools -z /vmfs/devices/disks/t10.ATA_____ST4000VX0152D3CU104__________________________________WW606EX1 /vmfs/volumes/6449615b-232b02f8-41d2-309c23af5243/HDD5.vmdk</span><br></pre></td></tr></table></figure>







<h2 id="网卡？"><a href="#网卡？" class="headerlink" title="网卡？"></a>网卡？</h2><p>INT_bootbank_ixgben_1.12.3.0-1OEM.700.1.0.15843807.vib</p>
<p>esxcli software vib install -v /tmp/INT_bootbank_ixgben_1.12.3.0-1OEM.700.1.0.15843807.vib</p>
<p>esxupdate –bundle=Intel-ixgben_1.12.2.0-1OEM.700.1.0.15843807_19203188-package.zip update</p>
<h1 id="端口映射"><a href="#端口映射" class="headerlink" title="端口映射"></a>端口映射</h1><p>  5000,137-139,445,3389,21,22,55536-55791,5005,5006,3000-3003</p>
<p>  3300,8082,8999,8085,9091,19035,19037,8096</p>
<h1 id="群晖hosts配置"><a href="#群晖hosts配置" class="headerlink" title="群晖hosts配置"></a>群晖hosts配置</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">13.225.89.239 api.thetvdb.com</span><br><span class="line"></span><br><span class="line">13.249.175.212 api.thetvdb.com</span><br><span class="line"></span><br><span class="line">13.35.161.120 api.thetvdb.com</span><br><span class="line"></span><br><span class="line">13.226.238.76 api.themoviedb.org</span><br><span class="line"></span><br><span class="line">13.35.7.102 api.themoviedb.org</span><br><span class="line"></span><br><span class="line">13.225.103.26 api.themoviedb.org</span><br><span class="line"></span><br><span class="line">13.226.191.85 api.themoviedb.org</span><br><span class="line"></span><br><span class="line">13.225.103.110 api.themoviedb.org</span><br><span class="line"></span><br><span class="line">52.85.79.89 api.themoviedb.org</span><br><span class="line"></span><br><span class="line">13.225.41.40 api.themoviedb.org</span><br><span class="line"></span><br><span class="line">14.226.251.88 api.themoviedb.org</span><br></pre></td></tr></table></figure>



<h1 id="esxi-ikuai-openwrt"><a href="#esxi-ikuai-openwrt" class="headerlink" title="esxi+ikuai+openwrt"></a>esxi+ikuai+openwrt</h1><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Ba4y1f7Kb/?is_story_h5=false&amp;p=1&amp;share_from=ugc&amp;share_medium=iphone&amp;share_plat=ios&amp;share_session_id=48E8BBDC-1B4A-490C-867B-43A67A2671E9&amp;share_source=WEIXIN&amp;share_tag=s_i&amp;timestamp=1667907084&amp;unique_k=GdAAja4&amp;wxfid=o7omF0erHEf20s-zaKvo15-BZZVU&amp;share_times=1">https://www.bilibili.com/video/BV1Ba4y1f7Kb/?is_story_h5=false&amp;p=1&amp;share_from=ugc&amp;share_medium=iphone&amp;share_plat=ios&amp;share_session_id=48E8BBDC-1B4A-490C-867B-43A67A2671E9&amp;share_source=WEIXIN&amp;share_tag=s_i&amp;timestamp=1667907084&amp;unique_k=GdAAja4&amp;wxfid=o7omF0erHEf20s-zaKvo15-BZZVU&amp;share_times=1</a></p>
<h1 id="arpl黑群晖"><a href="#arpl黑群晖" class="headerlink" title="arpl黑群晖"></a>arpl黑群晖</h1><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1xx4y1N7ME/?buvid=ZC42C6CE32ABEA014D229DBE452EDDF6071D&amp;is_story_h5=false&amp;mid=PWVGiYRDijlmlaFjoG8Siw==&amp;p=1&amp;plat_id=114&amp;share_from=ugc&amp;share_medium=iphone&amp;share_plat=ios&amp;share_session_id=D71AA741-B89A-45C8-8565-1EED5B88C614&amp;share_source=WEIXIN&amp;share_tag=s_i&amp;timestamp=1682507419&amp;unique_k=V4uumVd&amp;up_id=248592535">https://www.bilibili.com/video/BV1xx4y1N7ME/?buvid=ZC42C6CE32ABEA014D229DBE452EDDF6071D&amp;is_story_h5=false&amp;mid=PWVGiYRDijlmlaFjoG8Siw%3D%3D&amp;p=1&amp;plat_id=114&amp;share_from=ugc&amp;share_medium=iphone&amp;share_plat=ios&amp;share_session_id=D71AA741-B89A-45C8-8565-1EED5B88C614&amp;share_source=WEIXIN&amp;share_tag=s_i&amp;timestamp=1682507419&amp;unique_k=V4uumVd&amp;up_id=248592535</a></p>
<p>arpl用cd驱动器打开</p>
<p>直接安装，选择ds920+</p>
<h1 id="群晖硬盘rdm直通"><a href="#群晖硬盘rdm直通" class="headerlink" title="群晖硬盘rdm直通"></a>群晖硬盘rdm直通</h1><p>1.安装DS920+ 7.1</p>
<p>arpl安装DS920+</p>
<p>选择DSM_DS920+_42962.pat</p>
<p>2.putty ssh esxi创建磁盘</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_34208844/article/details/108261126?app_version=5.15.3&amp;csdn_share_tail=%7B%22type%22:%22blog%22,%22rType%22:%22article%22,%22rId%22:%22108261126%22,%22source%22:%22weixin_45725190%22%7D&amp;utm_source=app">https://blog.csdn.net/qq_34208844/article/details/108261126?app_version=5.15.3&amp;csdn_share_tail=%7B%22type%22%3A%22blog%22%2C%22rType%22%3A%22article%22%2C%22rId%22%3A%22108261126%22%2C%22source%22%3A%22weixin_45725190%22%7D&amp;utm_source=app</a></p>
<p><img src="/2023/04/26/Nas/image-20230427152859022.png" alt="image-20230427152859022"></p>
<p>==<strong>使用命令挂载硬盘</strong>==：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vmkfstools -z /vmfs/devices/disks/未格式化硬盘标识符 /vmfs/volumes/ESXI系统盘路径/自定义名称.vmdk</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vmkfstools -z /vmfs/devices/disks/t10.ATA_____ST4000VX0152D3CU104__________________________________WW6083E7 /vmfs/volumes/6449615b-232b02f8-41d2-309c23af5243/HDD1.vmdk &amp;&amp;</span><br><span class="line"></span><br><span class="line">vmkfstools -z /vmfs/devices/disks/t10.ATA_____ST4000VX0152D3CU104__________________________________WW607DYE /vmfs/volumes/6449615b-232b02f8-41d2-309c23af5243/HDD2.vmdk &amp;&amp;</span><br><span class="line"></span><br><span class="line">vmkfstools -z /vmfs/devices/disks/t10.ATA_____ST4000VX0152D3CU104__________________________________WW607DVN /vmfs/volumes/6449615b-232b02f8-41d2-309c23af5243/HDD3.vmdk &amp;&amp;</span><br><span class="line">vmkfstools -z /vmfs/devices/disks/t10.ATA_____ST4000VX0152D3CU104__________________________________WW6083GG /vmfs/volumes/6449615b-232b02f8-41d2-309c23af5243/HDD4.vmdk &amp;&amp;</span><br><span class="line">vmkfstools -z /vmfs/devices/disks/t10.ATA_____ST4000VX0152D3CU104__________________________________WW606EX1 /vmfs/volumes/6449615b-232b02f8-41d2-309c23af5243/HDD5.vmdk</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="群晖里"><a href="#群晖里" class="headerlink" title="群晖里"></a>群晖里</h2><p>存储管理器-存储空间-创建存储池-选择raid模式</p>
<h1 id="ups自动关机"><a href="#ups自动关机" class="headerlink" title="ups自动关机"></a>ups自动关机</h1><h2 id="1-自动关机"><a href="#1-自动关机" class="headerlink" title="1.自动关机"></a>1.自动关机</h2><p><a target="_blank" rel="noopener" href="https://wp.gxnas.com/10572.html">https://wp.gxnas.com/10572.html</a></p>
<p>虚拟机添加usb设备，选择ups的usb，并在虚拟机中安装配套的ups软件，设置断电自动关机，比如10分钟。<br> 如果主板支持通电开机，ups虚拟机还需要设置自动启动，时间和顺序自行掌控。<br> 所有虚拟机尽量安装vmtools，调用系统的关机，而不是关闭电源。<br> 系统-自动启动，配置安装了vmtools的虚拟机，停止操作设置为关机，等待信号检测：是。</p>
<hr>
<p><strong>先简单了解一下几条命令：</strong></p>
<p>1、获取ESXI上的所有虚拟机VMID的值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim-cmd vmsvc/getallvms</span><br></pre></td></tr></table></figure>

<p>2、把虚拟机正常关机</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim-cmd vmsvc/power.shutdown vmid的值</span><br></pre></td></tr></table></figure>

<p>3、把虚拟机强制关闭电源</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim-cmd vmsvc/power.off vmid的值</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>开始干活：</strong></p>
<p>#进入ESXI的存储盘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /vmfs/volumes/datastore1</span><br></pre></td></tr></table></figure>

<p>#建立ups文件夹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir ups</span><br></pre></td></tr></table></figure>

<p>#进入ups文件夹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ups</span><br></pre></td></tr></table></figure>

<p>#编辑ups.sh文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ups.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#以下为 ups.sh 的内容，请酌情修改。</span><br><span class="line">#其中：10.10.10.1 为主路由的IP，sleep 为稍等时间（秒），vmid的值请根据自己的实际情况修改。</span><br><span class="line">#示例：每分钟ping主路由的IP，如果ping不通的话（停电就断网了）5分钟后会再次检测。再次检测如依然不通，则ESXI依次关闭虚拟机后，宿主关机。</span><br><span class="line">#!/bin/sh</span><br><span class="line">while</span><br><span class="line">ping -c 1 10.10.10.1 &gt; /dev/null</span><br><span class="line">[ $? -eq 0 ];</span><br><span class="line">do</span><br><span class="line">    echo &#x27;AC Power OK !&#x27; &gt;&gt; /vmfs/volumes/datastore1/ups/ups.log;date &gt;&gt; /vmfs/volumes/datastore1/ups/ups.log</span><br><span class="line">    sleep 60</span><br><span class="line">done</span><br><span class="line">echo &#x27;AC Power maybe off, checking again after 5 minutes !&#x27; &gt;&gt; /vmfs/volumes/datastore1/ups/ups.log;date &gt;&gt; /vmfs/volumes/datastore1/ups/ups.log</span><br><span class="line">sleep 300</span><br><span class="line">ping -c 1 10.10.10.1 &gt; /dev/null</span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">    then</span><br><span class="line">        echo &#x27;Checkagain, AC Power OK !&#x27; &gt;&gt; /vmfs/volumes/datastore1/ups/ups.log;date &gt;&gt; /vmfs/volumes/datastore1/ups/ups.log</span><br><span class="line">    else</span><br><span class="line">        echo &#x27;AC Power is already off, shut down Esxi Now!&#x27; &gt;&gt; /vmfs/volumes/datastore1/ups/ups.log;date &gt;&gt; /vmfs/volumes/datastore1/ups/ups.log</span><br><span class="line">        vim-cmd vmsvc/power.shutdown 11</span><br><span class="line">        sleep 60</span><br><span class="line">        vim-cmd vmsvc/power.shutdown 10</span><br><span class="line">        sleep 60</span><br><span class="line">        vim-cmd vmsvc/power.shutdown 6</span><br><span class="line">        sleep 60</span><br><span class="line">        vim-cmd vmsvc/power.shutdown 3</span><br><span class="line">        sleep 60</span><br><span class="line">        vim-cmd vmsvc/power.off 2</span><br><span class="line">        sleep 60</span><br><span class="line">        poweroff</span><br><span class="line">fi</span><br><span class="line">#ups.sh 的内容结束</span><br></pre></td></tr></table></figure>


<p> #编辑monitor.sh，守护ups.sh这个脚本正常运行 vi monitor.sh # monitor.sh 的内容开始</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">NUM=`ps -c | grep ups.sh | grep -v grep |wc -l`</span><br><span class="line">echo $&#123;NUM&#125;</span><br><span class="line">if [ &quot;$&#123;NUM&#125;&quot; -lt &quot;1&quot; ];then</span><br><span class="line">     /vmfs/volumes/datastore1/ups/ups.sh &amp;</span><br><span class="line">     echo &#x27;monitor start&#x27; &gt;&gt; /vmfs/volumes/datastore1/ups/ups.log;date &gt;&gt; /vmfs/volumes/datastore1/ups/ups.log</span><br><span class="line">fi</span><br><span class="line">exit 0</span><br><span class="line">#monitor.sh 的内容结束 </span><br></pre></td></tr></table></figure>
<p>#调整两个脚本的权限 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 755 monitor.sh</span><br><span class="line">chmod 755 ups.sh </span><br></pre></td></tr></table></figure>
<p>#esxi重启后引导会自动恢复初始状态 需要添加一个每次启动自动写引导 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/rc.local.d/local.sh  </span><br></pre></td></tr></table></figure>
<p>#在exit之前添加以下cron代码，3分钟执行一次守护进程 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/bin/kill $(cat /var/run/crond.pid)</span><br><span class="line">/bin/echo &#x27;*/3 * * * * /vmfs/volumes/datastore1/ups/monitor.sh&#x27; &gt;&gt; /var/spool/cron/crontabs/root</span><br><span class="line">/usr/lib/vmware/busybox/bin/busybox crond </span><br></pre></td></tr></table></figure>
<p>#需要执行一次</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/auto-backup.sh</span><br></pre></td></tr></table></figure>
<p>命令，我们上面编辑的脚本才真正的保存 /sbin/auto-backup.sh</p>
<p><img src="/2023/04/26/Nas/image-20230502152007791.png" alt="image-20230502152007791"></p>
<p><a target="_blank" rel="noopener" href="http://t.csdn.cn/ezOwY">http://t.csdn.cn/ezOwY</a></p>
<h2 id="2-关机脚本"><a href="#2-关机脚本" class="headerlink" title="2.关机脚本"></a>2.关机脚本</h2><p>#!/bin/sh</p>
<p>#shutdown all VMs(2,3,9 is VMID,add your VMIDs here)<br>vim-cmd vmsvc/power.off 2<br>vim-cmd vmsvc/power.off 3<br>vim-cmd vmsvc/power.off 9</p>
<p>#Poweroff Host<br>/sbin/poweroff</p>
<p>脚本中的vim-cmd vmsvc/power.off 2是关机命令，将对指定的虚拟机VMID号发送关机命令，在宿主机关机前关闭所有虚拟机。<br>最后是关机命令。</p>
<p>poweroff就相当于直接拔插头，应该用power.shutdown</p>
<p>几个相关命令：<br>vim-cmd vmsvc/getallvms 查询所有已配置的虚拟机，可获得VMID<br>vim-cmd vmsvc/power.getstate VMID 通过VMID查询相应的虚拟机的当前状态（开关机）<br>vim-cmd vmsvc/power.shutdown VMID发送关机信号(命令），但操作系统未必会真正关机，所以可以接下面的命令。<br>vim-cmd vmsvc/power.off VMID 直接关机（相当于关电源）<br>————————————————<br>版权声明：本文为CSDN博主「快乐的命令行」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45229597/article/details/121120798">https://blog.csdn.net/qq_45229597/article/details/121120798</a></p>
<h1 id="ikuai-1"><a href="#ikuai-1" class="headerlink" title="ikuai"></a>ikuai</h1><h2 id="LAN设置"><a href="#LAN设置" class="headerlink" title="LAN设置"></a>LAN设置</h2><p><img src="/2023/04/26/Nas/image-20230501000251430.png" alt="image-20230501000251430"></p>
<p>==高级选上俩网口==</p>
<h2 id="修改ikuai控制台端口"><a href="#修改ikuai控制台端口" class="headerlink" title="修改ikuai控制台端口"></a>修改ikuai控制台端口</h2><p>ikuai 8881</p>
<p><img src="/2023/04/26/Nas/image-20230501000437137.png" alt="image-20230501000437137"></p>
<h2 id="端口映射-1"><a href="#端口映射-1" class="headerlink" title="端口映射"></a>端口映射</h2><p>esxi 443——9090，esxi只支持https，必须得用443端口</p>
<img src="/2023/04/26/Nas/image-20230501000220896.png" alt="image-20230501000220896" style="zoom:200%;">





<h1 id="NAS-TOOL"><a href="#NAS-TOOL" class="headerlink" title="NAS-TOOL"></a>NAS-TOOL</h1><p>==<strong>所有文件夹修改权限！</strong>==</p>
<h2 id="1-bt版本nastool"><a href="#1-bt版本nastool" class="headerlink" title="1.bt版本nastool"></a>1.bt版本nastool</h2><p>ip:3000</p>
<img src="/2023/04/26/Nas/image-20230430234544318.png" alt="image-20230430234544318" style="zoom:200%;">

<p>高级-</p>
<p><img src="/2023/04/26/Nas/image-20230430234612203.png" alt="image-20230430234612203"></p>
<p>uid/gid通过ssh，bash输入id获取</p>
<p><img src="/2023/04/26/Nas/image-20230430234636316.png" alt="image-20230430234636316"></p>
<p><img src="/2023/04/26/Nas/image-20230430234647301.png" alt="image-20230430234647301"></p>
<p><img src="/2023/04/26/Nas/image-20230430234654707.png" alt="image-20230430234654707"></p>
<h2 id="2-TMDB-API"><a href="#2-TMDB-API" class="headerlink" title="2.TMDB API"></a>2.TMDB API</h2><p><a target="_blank" rel="noopener" href="https://www.themoviedb.org/settings/api">https://www.themoviedb.org/settings/api</a></p>
<p>api</p>
<h2 id="3-Transmission"><a href="#3-Transmission" class="headerlink" title="3.Transmission"></a>3.Transmission</h2><p><img src="/2023/04/26/Nas/image-20230430235039505.png" alt="image-20230430235039505"></p>
<p><img src="/2023/04/26/Nas/image-20230430235059741.png"></p>
<h2 id="4-chinesesubfinder字幕"><a href="#4-chinesesubfinder字幕" class="headerlink" title="4.chinesesubfinder字幕"></a>4.chinesesubfinder字幕</h2><p>IP:19035</p>
<p>用户名admin</p>
<p><img src="/2023/04/26/Nas/image-20230430234710623.png" alt="image-20230430234710623"></p>
<p><img src="/2023/04/26/Nas/image-20230430234717306.png" alt="image-20230430234717306"></p>
<p><img src="/2023/04/26/Nas/image-20230430234729513.png" alt="image-20230430234729513"></p>
<p><img src="/2023/04/26/Nas/image-20230430234738546.png" alt="image-20230430234738546"></p>
<h2 id="矿神软件包"><a href="#矿神软件包" class="headerlink" title="矿神软件包"></a>矿神软件包</h2><p><img src="/2023/04/26/Nas/image-20230501002206137.png" alt="image-20230501002206137"></p>
<p><a target="_blank" rel="noopener" href="https://spk7.imnks.com/">https://spk7.imnks.com/</a></p>
<p>社群下载</p>
<p><img src="/2023/04/26/Nas/image-20230501002245641.png" alt="image-20230501002245641"></p>
<h4 id="jellyfin"><a href="#jellyfin" class="headerlink" title="jellyfin"></a>jellyfin</h4><p>ip:8096</p>
<h2 id="jackett"><a href="#jackett" class="headerlink" title="jackett"></a>jackett</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/511104984">https://zhuanlan.zhihu.com/p/511104984</a></p>
<p>==限制性能==</p>
<p><img src="/2023/04/26/Nas/image-20230501003002339.png" alt="image-20230501003002339"></p>
<p>高级加上uid，gid</p>
<p><img src="/2023/04/26/Nas/image-20230501003028600.png" alt="image-20230501003028600"></p>
<p><img src="/2023/04/26/Nas/image-20230501002954192.png" alt="image-20230501002954192"></p>
<p>加一个映射，radarr？</p>
<p><img src="/2023/04/26/Nas/image-20230501002946885.png" alt="image-20230501002946885"></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1dv4y1b78H/?vd_source=3d040baeb67aeceb2bba9c7169a67a96">https://www.bilibili.com/video/BV1dv4y1b78H/?vd_source=3d040baeb67aeceb2bba9c7169a67a96</a></p>
<h1 id="clash"><a href="#clash" class="headerlink" title="clash"></a>clash</h1><p><a target="_blank" rel="noopener" href="https://fugary.com/?p=363">https://fugary.com/?p=363</a></p>
<h3 id="准备Clash配置文件"><a href="#准备Clash配置文件" class="headerlink" title="准备Clash配置文件"></a>准备Clash配置文件</h3><p>新增一个<code>config.yaml</code>文件，需要上传到群晖的<code>/docker/clash/config.yaml</code>，这个<code>yaml</code>文件可以从本地电脑的<code>Clash</code>中复制出来：</p>
<p><img src="/2023/04/26/Nas/image-20220703164622625.png" alt="image-20220703164622625"></p>
<p>**注意：这里只能用<code>config.yaml不</code>能用<code>config.yml</code>**，可以适当修改部分信息，也可以不修改：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># Port of HTTP(S) proxy server on the local end（默认）</span></span><br><span class="line"></span><br><span class="line"><span class="attr">port:</span> <span class="number">7890</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Port of SOCKS5 proxy server on the local end（默认）</span></span><br><span class="line"></span><br><span class="line"><span class="attr">socks-port:</span> <span class="number">7891</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启局域网代理，这个要配置true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">allow-lan:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#UI监听端口，可以改成0.0.0.0:9090，改后可以通过ui界面访问</span></span><br><span class="line"></span><br><span class="line"><span class="attr">external-controller:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span><span class="string">:9090</span></span><br></pre></td></tr></table></figure>

<p>配置文件准备好，上传到群晖之后，就可以开始了。</p>
<h3 id="Docker安装Clash镜像"><a href="#Docker安装Clash镜像" class="headerlink" title="Docker安装Clash镜像"></a>Docker安装Clash镜像</h3><p>进入群晖<code>Docker</code>套件，搜素<code>clash</code>，可以看到<code>dreamacro/clash</code>，双击下载下来。</p>
<p><img src="/2023/04/26/Nas/image-20220703140044584.png" alt="image-20220703140044584"></p>
<p>对应开源地址：</p>
<p>GitHub地址：<a target="_blank" rel="noopener" href="https://github.com/Dreamacro/clash">https://github.com/Dreamacro/clash</a><br> Docker地址：<a target="_blank" rel="noopener" href="https://registry.hub.docker.com/r/dreamacro/clash/">https://registry.hub.docker.com/r/dreamacro/clash/</a></p>
<p>参考配置文件：<a target="_blank" rel="noopener" href="https://github.com/Dreamacro/clash/wiki/configuration">https://github.com/Dreamacro/clash/wiki/configuration</a></p>
<h3 id="配置Clash容器"><a href="#配置Clash容器" class="headerlink" title="配置Clash容器"></a>配置Clash容器</h3><p>找到刚才下载的镜像，现在可以开始配置<code>Clash</code>容器了，点击【启动】，再下一步：</p>
<p><img src="/2023/04/26/Nas/image-20220703142612130.png" alt="image-20220703142612130"></p>
<p>配置端口，目前开放的端口最好映射出来，根据实际情况配置本地端口，容器端口是固定的，如果是<code>mixed-port: 7890</code>，可以少暴露端口：</p>
<p><img src="/2023/04/26/Nas/image-20220703143036183.png" alt="image-20220703143036183"></p>
<p>然后映射配置文件，本地配置文件<code>/docker/clash/config.yaml</code>映射到容器的<code>/root/.config/clash/config.yaml</code></p>
<p><img src="/2023/04/26/Nas/image-20220703143230426.png" alt="image-20220703143230426"></p>
<p>配置完成可以启动了。</p>
<p>其实<code>clash</code>代理已经可以使用了，不过为了方便查看，可以再用<code>UI</code>工具查看一下。</p>
<h3 id="使用UI界面"><a href="#使用UI界面" class="headerlink" title="使用UI界面"></a>使用UI界面</h3><p>在线版<code>UI</code>界面：<a target="_blank" rel="noopener" href="http://yacd.haishan.me/">http://yacd.haishan.me/</a> （目前似乎有兼容问题）</p>
<p>输入对应的地址即可，比如本地的：<code>http://192.168.31.126:9090</code></p>
<p>也可以自己安装一个<code>UI</code>容器，名字叫：haishanh/yacd，搜索后下载安装</p>
<p><img src="/2023/04/26/Nas/image-20220703165059849.png" alt="image-20220703165059849"></p>
<p>下载后，进入启动配置，配置自动重新启动：</p>
<p><img src="/2023/04/26/Nas/image-20220703165339662.png" alt="image-20220703165339662"></p>
<p>配置端口：</p>
<p><img src="/2023/04/26/Nas/image-20220703165555219.png" alt="image-20220703165555219"></p>
<p>启动完毕。</p>
<p>访问：<a target="_blank" rel="noopener" href="http://192.168.31.126:9080/">http://192.168.31.126:9080/</a> 添加clash服务的地址</p>
<p><img src="/2023/04/26/Nas/image-20220703170428513.png" alt="image-20220703170428513"></p>
<p>进入之后可以看到clash的订阅信息了：</p>
<p><img src="/2023/04/26/Nas/image-20220703170538462.png" alt="image-20220703170538462"></p>
<p><code>UI</code>安装配置完成。</p>
<h3 id="代理使用"><a href="#代理使用" class="headerlink" title="代理使用"></a>代理使用</h3><p>以<code>iOS</code>手机为例，在【无线局域网】设置中，已连接的<code>WIFI</code>右边的信息图标：</p>
<p>配置<code>HTTP</code>代理：</p>
<p><img src="/2023/04/26/Nas/image-20220703170819896.png" alt="image-20220703170819896"></p>
<p>然后就可以尝试访问<a target="_blank" rel="noopener" href="https://google.com测试一下了./">https://google.com测试一下了。</a></p>
<h3 id="自动更新"><a href="#自动更新" class="headerlink" title="自动更新"></a>自动更新</h3><p>目前这种操作方式不能自动更新代理，可以考虑使用定时任务来更新，编写定时任务脚本，并存放到<code>/docker/clash/reload-clash.sh</code>：</p>
<p><strong>注意：如果订阅地址用浏览器打开不是<code>yml</code>格式，不能使用这个方法，可以尝试在<code>url</code>后面增加参数：<code>?target=clash</code>或者<code>clash=1</code>之类的看看是否能转换出<code>yml</code>数据。</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 下载节点配置文件，根据实际的订阅地址填写</span></span><br><span class="line"></span><br><span class="line">wget -O /volume1/docker/clash/config.yaml https://xxxxxx</span><br><span class="line"></span><br><span class="line"><span class="comment"># external-controller地址为0.0.0.0:9090，方便UI访问（可选）</span></span><br><span class="line"></span><br><span class="line">sed -i <span class="string">&#x27;s/127.0.0.1:9090/0.0.0.0:9090/g&#x27;</span> /volume1/docker/clash/config.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># 增加安全性，配置使用代理的用户名和密码（可选）</span></span><br><span class="line"></span><br><span class="line">sed -i <span class="string">&#x27;s/allow-lan: true/allow-lan: true\r\nauthentication:\r\n - &quot;user1:password1&quot;\r\n - &quot;user2:password2&quot;/g&#x27;</span> /volume1/docker/clash/config.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启 clash 容器，名字为实际的容器名字</span></span><br><span class="line"></span><br><span class="line">docker container restart dreamarco-clash1</span><br></pre></td></tr></table></figure>

<p>配置群晖定时任务，进入【控制面板】-&gt;【任务计划】：</p>
<p><img src="/2023/04/26/Nas/image-20220703175703733.png" alt="image-20220703175703733"></p>
<p>然后新增一个任务，【用户定义的脚本】任务，并配置名称等</p>
<p><img src="/2023/04/26/Nas/chrome_NvhlmHcwVn.png" alt="chrome_NvhlmHcwVn"></p>
<p>配置运行频率：</p>
<p><img src="/2023/04/26/Nas/image-20220704085518944.png" alt="image-20220704085518944"></p>
<p>配置运行脚本<code>bash /volume1/docker/clash/reload-clash.sh</code>：</p>
<p><img src="/2023/04/26/Nas/chrome_MLTqofS0wr.png" alt="chrome_MLTqofS0wr"></p>
<p><strong>需要注意路径，完整路径是要包含<code>/volume1</code>的</strong></p>
<p>可以先运行一次测试看看。</p>
<p>至此算是完全配置完成了。</p>
<h4 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h4><p>运行脚本提示没有权限运行docker：</p>
<blockquote>
<p>Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post “http://%2Fvar%2Frun%2Fdocker.sock/v1.24/containers/dreamacro-clash1/restart”: dial unix /var/run/docker.sock: connect: permission denied</p>
</blockquote>
<p>可以尝试把脚本修改一下，把<code>sudo</code>需要的密码放进去：</p>
<p><code>sudo -S</code>是表示<code>sudo</code>从标准输入<code>STDIN</code>读入密码而不是从终端读取。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;YourPWD&quot;</span> | sudo -S docker container restart dreamarco-clash1</span><br></pre></td></tr></table></figure>

<h4 id="新自动刷新"><a href="#新自动刷新" class="headerlink" title="新自动刷新"></a>新自动刷新</h4><p>运行发现，重启<code>Docker</code>方式刷新并不是很好，参考了<code>API</code>文档，发现可以用另外的方式更新：</p>
<p><a target="_blank" rel="noopener" href="https://clash.gitbook.io/doc/restful-api/config">https://clash.gitbook.io/doc/restful-api/config</a></p>
<p>文件路径：<code>/docker/clash/reload-clash.sh</code></p>
<p>实际配置到【任务计划】中需要全路径<code>bash /volume1/docker/clash/reload-clash.sh</code>：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 下载节点配置文件，根据实际的订阅地址填写</span></span><br><span class="line"></span><br><span class="line">wget -O /volume1/docker/clash/config.yaml https://xxxxxx</span><br><span class="line"></span><br><span class="line"><span class="comment"># external-controller地址为0.0.0.0:9090，方便UI访问（可选）</span></span><br><span class="line"></span><br><span class="line">sed -i <span class="string">&#x27;s/127.0.0.1:9090/0.0.0.0:9090/g&#x27;</span> /volume1/docker/clash/config.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># 增加安全性，配置使用代理的用户名和密码（可选）</span></span><br><span class="line"></span><br><span class="line">sed -i <span class="string">&#x27;s/allow-lan: true/allow-lan: true\r\nauthentication:\r\n - &quot;user1:password1&quot;\r\n - &quot;user2:password2&quot;/g&#x27;</span> /volume1/docker/clash/config.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># 去掉重启Docker，调用API刷新：</span></span><br><span class="line"></span><br><span class="line">curl --location --request PUT <span class="string">&#x27;http://localhost:9090/configs&#x27;</span> \</span><br><span class="line"></span><br><span class="line">--header <span class="string">&#x27;Content-Type: application/json&#x27;</span> \</span><br><span class="line"></span><br><span class="line">--data-raw <span class="string">&#x27;&#123;&quot;path&quot;: &quot;/root/.config/clash/config.yaml&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：代理端口不要使用默认的7890，暴露外网可能会被扫描到，出现流量偷跑的情况，另外UI界面并不需要，可以测试完后停止UI相关容器</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/04/24/%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/04/24/%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/" itemprop="url">大语言模型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-04-24T17:28:14+08:00">
                2023-04-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>gpt4</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1vM4y1U7b5/?spm_id_from=333.337.search-card.all.click&amp;vd_source=3d040baeb67aeceb2bba9c7169a67a96">https://www.bilibili.com/video/BV1vM4y1U7b5/?spm_id_from=333.337.search-card.all.click&amp;vd_source=3d040baeb67aeceb2bba9c7169a67a96</a></p>
<h1 id="三个月时间做175B的模型"><a href="#三个月时间做175B的模型" class="headerlink" title="三个月时间做175B的模型"></a>三个月时间做175B的模型</h1><p>干货多</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1XT411v7c9/?share_source=copy_web&amp;vd_source=29489718d77abc8aa57a22525c511957">https://www.bilibili.com/video/BV1XT411v7c9/?share_source=copy_web&amp;vd_source=29489718d77abc8aa57a22525c511957</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/04/24/%E5%A4%9A%E5%8D%A1%E5%B9%B6%E8%A1%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/04/24/%E5%A4%9A%E5%8D%A1%E5%B9%B6%E8%A1%8C/" itemprop="url">多卡并行</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-04-24T16:02:20+08:00">
                2023-04-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="一、多卡训练原理"><a href="#一、多卡训练原理" class="headerlink" title="一、多卡训练原理"></a>一、多卡训练原理</h2><p><a target="_blank" rel="noopener" href="https://jmxgodlz.xyz/2021/09/12/2021-09-12-Pytorch%E5%A4%9A%E5%8D%A1%E8%AE%AD%E7%BB%83%E5%8E%9F%E7%90%86/#more">https://jmxgodlz.xyz/2021/09/12/2021-09-12-Pytorch%E5%A4%9A%E5%8D%A1%E8%AE%AD%E7%BB%83%E5%8E%9F%E7%90%86/#more</a></p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/453920336">https://www.zhihu.com/question/453920336</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/04/16/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/04/16/%E7%A0%94%E7%A9%B6%E7%94%9F%E8%AE%BA%E6%96%87%E5%86%99%E4%BD%9C/" itemprop="url">研究生论文写作</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-04-16T12:35:43+08:00">
                2023-04-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/04/12/tensorboard/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/04/12/tensorboard/" itemprop="url">tensorboard</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-04-12T15:22:34+08:00">
                2023-04-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1安装"><a href="#1安装" class="headerlink" title="1安装"></a>1安装</h1><p>pip install tensorboard</p>
<p>pip install tensorboardX</p>
<h1 id="2使用"><a href="#2使用" class="headerlink" title="2使用"></a>2使用</h1><p>(base) PS C:\Users\74420&gt; tensorboard –logdir=Apr12_11-44-30_HQ</p>
<p><img src="/2023/04/12/tensorboard/image-20230412152327035.png" alt="image-20230412152327035"></p>
<p><code>tensorboard --logdir=保存的文件夹路径</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/04/09/chatglm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/04/09/chatglm/" itemprop="url">chatglm</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-04-09T17:26:35+08:00">
                2023-04-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="模型保存路径"><a href="#模型保存路径" class="headerlink" title="模型保存路径"></a>模型保存路径</h1><p>C:\Users\74420.cache\huggingface\modules\transformers_modules</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/04/09/word%E5%85%AC%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/04/09/word%E5%85%AC%E5%BC%8F/" itemprop="url">word公式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-04-09T12:13:31+08:00">
                2023-04-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="简单公式"><a href="#简单公式" class="headerlink" title="简单公式"></a>简单公式</h1><p>alt + ‘=’ 打开公式输入框</p>
<p>选择最上面功能栏–公式–latex–ex专业</p>
<p>alt + / 渲染公式</p>
<h1 id="复杂"><a href="#复杂" class="headerlink" title="复杂"></a>复杂</h1><p>复制到typora，然后导出到word</p>
<p>需要安装pandoc，并绑定路径</p>
<h1 id="word图注"><a href="#word图注" class="headerlink" title="word图注"></a>word图注</h1><p>引用-插入题注</p>
<p><a target="_blank" rel="noopener" href="https://jingyan.baidu.com/article/c910274b84d7498c371d2d0f.html">https://jingyan.baidu.com/article/c910274b84d7498c371d2d0f.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/04/08/%E6%97%A0%E4%BA%BA%E6%9C%BA%E8%AE%BA%E6%96%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/04/08/%E6%97%A0%E4%BA%BA%E6%9C%BA%E8%AE%BA%E6%96%87/" itemprop="url">无人机论文</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-04-08T14:50:55+08:00">
                2023-04-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考这篇，也是rfysim，任务分配、协同控制</p>
<p><a target="_blank" rel="noopener" href="https://www.mdpi.com/2218-6581/11/6/124">https://www.mdpi.com/2218-6581/11/6/124</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/">
    
              
                  <span class="site-state-item-count">58</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
