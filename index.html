<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://developer-hq.github.io/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://developer-hq.github.io/"/>





  <title>Hexo</title>
  








<meta name="generator" content="Hexo 6.3.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/10/25/Screeps/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/10/25/Screeps/" itemprop="url">Screeps</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-10-25T20:17:07+08:00">
                2023-10-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="æ•™ç¨‹"><a href="#æ•™ç¨‹" class="headerlink" title="æ•™ç¨‹"></a>æ•™ç¨‹</h1><h3 id="1-basic"><a href="#1-basic" class="headerlink" title="1.basic"></a>1.basic</h3><p>è·å–creep</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Game.spawns[&#x27;Spawn1&#x27;].spawnCreep( [WORK, CARRY, MOVE], &#x27;Harvester1&#x27; );</span><br></pre></td></tr></table></figure>

<p>é‡‡çŸ¿</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">module.exports.loop = function () &#123;</span><br><span class="line">    var creep = Game.creeps[&#x27;Harvester1&#x27;];</span><br><span class="line">    var sources = creep.room.find(FIND_SOURCES);</span><br><span class="line">    if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) &#123;</span><br><span class="line">        creep.moveTo(sources[0]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤šä¸ªcreep</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">module.exports.loop = function () &#123;</span><br><span class="line">    for(var name in Game.creeps) &#123;</span><br><span class="line">        var creep = Game.creeps[name];</span><br><span class="line"></span><br><span class="line">        if(creep.store.getFreeCapacity() &gt; 0) &#123;</span><br><span class="line">            var sources = creep.room.find(FIND_SOURCES);</span><br><span class="line">            if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) &#123;</span><br><span class="line">                creep.moveTo(sources[0]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            if(creep.transfer(Game.spawns[&#x27;Spawn1&#x27;], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) &#123;</span><br><span class="line">                creep.moveTo(Game.spawns[&#x27;Spawn1&#x27;]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºæ¨¡å—role.harvester</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var roleHarvester = &#123;</span><br><span class="line"></span><br><span class="line">    /** @param &#123;Creep&#125; creep **/</span><br><span class="line">    run: function(creep) &#123;</span><br><span class="line">	    if(creep.store.getFreeCapacity() &gt; 0) &#123;</span><br><span class="line">            var sources = creep.room.find(FIND_SOURCES);</span><br><span class="line">            if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) &#123;</span><br><span class="line">                creep.moveTo(sources[0]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            if(creep.transfer(Game.spawns[&#x27;Spawn1&#x27;], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) &#123;</span><br><span class="line">                creep.moveTo(Game.spawns[&#x27;Spawn1&#x27;]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">module.exports = roleHarvester;</span><br></pre></td></tr></table></figure>

<p>ä¸»å‡½æ•°è°ƒç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var roleHarvester = require(&#x27;role.harvester&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports.loop = function () &#123;</span><br><span class="line"></span><br><span class="line">    for(var name in Game.creeps) &#123;</span><br><span class="line">        var creep = Game.creeps[name];</span><br><span class="line">        roleHarvester.run(creep);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-upgrading-controller"><a href="#2-upgrading-controller" class="headerlink" title="2.upgrading controller"></a>2.upgrading controller</h3><p>å‡çº§æ§åˆ¶å™¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Game.spawns[&#x27;Spawn1&#x27;].spawnCreep( [WORK, CARRY, MOVE], &#x27;Upgrader1&#x27; );</span><br></pre></td></tr></table></figure>

<p>æŠŠroleå†™åˆ°å†…å­˜é‡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Game.creeps[&#x27;Harvester1&#x27;].memory.role = &#x27;harvester&#x27;; </span><br><span class="line">Game.creeps[&#x27;Upgrader1&#x27;].memory.role = &#x27;upgrader&#x27;;</span><br></pre></td></tr></table></figure>

<p>role.upgrader</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var roleUpgrader = &#123;</span><br><span class="line"></span><br><span class="line">    /** @param &#123;Creep&#125; creep **/</span><br><span class="line">    run: function(creep) &#123;</span><br><span class="line">	    if(creep.store[RESOURCE_ENERGY] == 0) &#123;</span><br><span class="line">            var sources = creep.room.find(FIND_SOURCES);</span><br><span class="line">            if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) &#123;</span><br><span class="line">                creep.moveTo(sources[0]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            if(creep.upgradeController(creep.room.controller) == ERR_NOT_IN_RANGE) &#123;</span><br><span class="line">                creep.moveTo(creep.room.controller);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">module.exports = roleUpgrader;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹mainï¼Œè®©upgraderä¸Šçº¿</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var roleHarvester = require(&#x27;role.harvester&#x27;);</span><br><span class="line">var roleUpgrader = require(&#x27;role.upgrader&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports.loop = function () &#123;</span><br><span class="line"></span><br><span class="line">    for(var name in Game.creeps) &#123;</span><br><span class="line">        var creep = Game.creeps[name];</span><br><span class="line">        if(creep.memory.role == &#x27;harvester&#x27;) &#123;</span><br><span class="line">            roleHarvester.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">        if(creep.memory.role == &#x27;upgrader&#x27;) &#123;</span><br><span class="line">            roleUpgrader.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æ­¤å°±å‡çº§äº†controller</p>
<p>é‡è¦æç¤ºï¼š å¦‚æœæ‚¨æ²¡æœ‰åœ¨ 20,000 ä¸ªæ¸¸æˆæ—¶é—´å†…å‡çº§æ§åˆ¶å™¨ï¼Œå®ƒå°±ä¼šé™ä½ä¸€çº§ã€‚è¾¾åˆ° 0 çº§æ—¶ï¼Œæ‚¨å°†å¤±å»å¯¹æˆ¿é—´çš„æ§åˆ¶ï¼Œå…¶ä»–ç©å®¶å°†å¯ä»¥è‡ªç”±å é¢†æˆ¿é—´ã€‚ç¡®ä¿è‡³å°‘æœ‰ä¸€ä¸ªå°å…µå®šæœŸæ‰§è¡Œå‡çº§æ§åˆ¶å™¨åŠŸèƒ½ã€‚</p>
<h3 id="3-å»ºä¸œè¥¿"><a href="#3-å»ºä¸œè¥¿" class="headerlink" title="3.å»ºä¸œè¥¿"></a>3.å»ºä¸œè¥¿</h3><p>æ§åˆ¶å™¨å‡çº§åå¯ä»¥ä½¿ç”¨ä¸€äº›æ–°ç»“æ„ï¼šåŸå¢™ã€åŸå›å’Œå»¶ä¼¸éƒ¨åˆ†ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚æ•™ç¨‹ä¸­è®¨è®ºåŸå¢™å’ŒåŸå›ï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥è°ˆè°ˆæ‰©å±•éƒ¨åˆ†ã€‚è¦å»ºé€ æ›´å¤§çš„è •è™«ï¼Œå°±éœ€è¦æ‰©å±•éƒ¨åˆ†ã€‚åªæœ‰ä¸€ç§èº«ä½“éƒ¨ä½çš„è •è™«æ•ˆæœå¾ˆå·®ã€‚èµ‹äºˆå®ƒå¤šä¸ªå·¥ä½œéƒ¨ä½ä¼šä½¿å®ƒçš„å·¥ä½œé€Ÿåº¦æˆæ¯”ä¾‹åœ°æé«˜ã€‚ç„¶è€Œï¼Œè¿™æ ·çš„è •è™«æˆæœ¬å¾ˆé«˜ï¼Œä¸€ä¸ªå•ç‹¬çš„äº§åµåªèƒ½åŒ…å« 300 ä¸ªèƒ½é‡å•ä½ã€‚å¦‚æœè¦å»ºé€ è¶…è¿‡ 300 èƒ½é‡å•ä½çš„è •è™«ï¼Œå°±éœ€è¦å¯¹äº§åµè¿›è¡Œæ‰©å±•ã€‚</p>
<p>ç¬¬äºŒä¸ª â€œæ§åˆ¶å™¨ â€œå…³å¡æœ‰ 5 ä¸ªæ‰©å±•é¡¹ä¾›æ‚¨å»ºé€ ã€‚æ¯ä¸ªæ–°å…³å¡éƒ½ä¼šå¢åŠ è¿™ä¸€æ•°é‡ã€‚</p>
<p>æ‚¨å¯ä»¥åœ¨æˆ¿é—´çš„ä»»æ„ä½ç½®æ”¾ç½®æ‰©å±•è£…ç½®ï¼Œè€Œä¸”æ— è®ºè·ç¦»å¤šè¿œï¼Œéƒ½å¯ä»¥ä½¿ç”¨å®ƒä»¬ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ”¾ç½®äº†ç›¸åº”çš„å»ºç­‘åœ°ç‚¹ï¼Œä»¥æ–¹ä¾¿æ‚¨çš„ä½¿ç”¨ã€‚</p>
<p>ç”Ÿæˆbuilder</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Game.spawns[&#x27;Spawn1&#x27;].spawnCreep( [WORK, CARRY, MOVE], &#x27;Builder1&#x27;,</span><br><span class="line">    &#123; memory: &#123; role: &#x27;builder&#x27; &#125; &#125; );</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰role.builder</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">var roleBuilder = &#123;</span><br><span class="line"></span><br><span class="line">    /** @param &#123;Creep&#125; creep **/</span><br><span class="line">    run: function(creep) &#123;</span><br><span class="line"></span><br><span class="line">	    if(creep.memory.building &amp;&amp; creep.store[RESOURCE_ENERGY] == 0) &#123;</span><br><span class="line">            creep.memory.building = false;</span><br><span class="line">            creep.say(&#x27;ğŸ”„ harvest&#x27;);</span><br><span class="line">	    &#125;</span><br><span class="line">	    if(!creep.memory.building &amp;&amp; creep.store.getFreeCapacity() == 0) &#123;</span><br><span class="line">	        creep.memory.building = true;</span><br><span class="line">	        creep.say(&#x27;ğŸš§ build&#x27;);</span><br><span class="line">	    &#125;</span><br><span class="line"></span><br><span class="line">	    if(creep.memory.building) &#123;</span><br><span class="line">	        var targets = creep.room.find(FIND_CONSTRUCTION_SITES);</span><br><span class="line">            if(targets.length) &#123;</span><br><span class="line">                if(creep.build(targets[0]) == ERR_NOT_IN_RANGE) &#123;</span><br><span class="line">                    creep.moveTo(targets[0], &#123;visualizePathStyle: &#123;stroke: &#x27;#ffffff&#x27;&#125;&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	    else &#123;</span><br><span class="line">	        var sources = creep.room.find(FIND_SOURCES);</span><br><span class="line">            if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) &#123;</span><br><span class="line">                creep.moveTo(sources[0], &#123;visualizePathStyle: &#123;stroke: &#x27;#ffaa00&#x27;&#125;&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">module.exports = roleBuilder;</span><br></pre></td></tr></table></figure>

<p>mainè°ƒç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var roleHarvester = require(&#x27;role.harvester&#x27;);</span><br><span class="line">var roleBuilder = require(&#x27;role.builder&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports.loop = function () &#123;</span><br><span class="line"></span><br><span class="line">    for(var name in Game.creeps) &#123;</span><br><span class="line">        var creep = Game.creeps[name];</span><br><span class="line">        if(creep.memory.role == &#x27;harvester&#x27;) &#123;</span><br><span class="line">            roleHarvester.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">        if(creep.memory.role == &#x27;builder&#x27;) &#123;</span><br><span class="line">            roleBuilder.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¦ç»´æŠ¤æ‰©å±•ç©ºé—´ï¼Œå°±éœ€è¦è®©æ”¶å‰²æœºä¸ä»…èƒ½å°†èƒ½é‡è¾“é€åˆ°äº§åµç‚¹ï¼Œè¿˜èƒ½å°†èƒ½é‡è¾“é€åˆ°æ‰©å±•ç©ºé—´ã€‚ä¸ºæ­¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Game.structures å¯¹è±¡ï¼Œæˆ–è€…å€ŸåŠ© Room.find(FIND_STRUCTURES) åœ¨æˆ¿é—´å†…æœç´¢ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œæ‚¨éƒ½éœ€è¦æ ¹æ® structure.structureType == STRUCTURE_EXTENSIONï¼ˆæˆ–è€…ï¼Œstructure instanceof StructureExtensionï¼‰è¿™ä¸€æ¡ä»¶æ¥è¿‡æ»¤é¡¹ç›®åˆ—è¡¨ï¼Œå¹¶åƒä¹‹å‰ä¸€æ ·æ£€æŸ¥å®ƒä»¬çš„èƒ½é‡è´Ÿè½½ã€‚</p>
<p>ä¿®æ”¹role.harvest</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">var roleHarvester = &#123;</span><br><span class="line"></span><br><span class="line">    /** @param &#123;Creep&#125; creep **/</span><br><span class="line">    run: function(creep) &#123;</span><br><span class="line">	    if(creep.store.getFreeCapacity() &gt; 0) &#123;</span><br><span class="line">            var sources = creep.room.find(FIND_SOURCES);</span><br><span class="line">            if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) &#123;</span><br><span class="line">                creep.moveTo(sources[0], &#123;visualizePathStyle: &#123;stroke: &#x27;#ffaa00&#x27;&#125;&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            var targets = creep.room.find(FIND_STRUCTURES, &#123;</span><br><span class="line">                    filter: (structure) =&gt; &#123;</span><br><span class="line">                        return (structure.structureType == STRUCTURE_EXTENSION || structure.structureType == STRUCTURE_SPAWN) &amp;&amp;</span><br><span class="line">                            structure.store.getFreeCapacity(RESOURCE_ENERGY) &gt; 0;</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            if(targets.length &gt; 0) &#123;</span><br><span class="line">                if(creep.transfer(targets[0], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) &#123;</span><br><span class="line">                    creep.moveTo(targets[0], &#123;visualizePathStyle: &#123;stroke: &#x27;#ffffff&#x27;&#125;&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">module.exports = roleHarvester;</span><br></pre></td></tr></table></figure>

<p>è¦äº†è§£æˆ¿é—´å†…çš„èƒ½æºæ€»é‡ï¼Œå¯ä»¥ä½¿ç”¨ Room.energyAvailable å±æ€§ã€‚è®©æˆ‘ä»¬å°†è¯¥å±æ€§çš„è¾“å‡ºæ·»åŠ åˆ°æ§åˆ¶å°ä¸­ï¼Œä»¥ä¾¿åœ¨å¡«å……æ‰©å±•ç¨‹åºæ—¶å¯¹å…¶è¿›è¡Œè·Ÿè¸ªã€‚</p>
<p>ä¸ºæ‰€æœ‰ 5 ä¸ªåˆ†æœºå’Œå†ç”Ÿå™¨æ³¨å…¥èƒ½é‡ã€‚</p>
<p>æˆ‘ä»¬çš„åµå­å’Œå»¶ä¼¸ä½“æ€»å…±æœ‰ 550 ä¸ªèƒ½é‡å•ä½ã€‚è¿™äº›èƒ½é‡è¶³ä»¥å»ºé€ ä¸€ä¸ªèº«ä½“ä¸º[WORK,WORK,WORK,WORK,CARRY,MOVE,MOVE]çš„è •è™«ã€‚è¿™ç§è •è™«çš„å·¥ä½œé€Ÿåº¦æ˜¯æ™®é€šè •è™«çš„ 4 å€ã€‚å®ƒçš„èº«ä½“æ›´é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å†ç»™å®ƒå¢åŠ ä¸€ä¸ª MOVEã€‚ä¸è¿‡ï¼Œä¸¤éƒ¨åˆ†çš„ç§»åŠ¨é€Ÿåº¦ä»ä¸è¶³ä»¥è¾¾åˆ°å°å‹å¿«é€Ÿè •è™«çš„ç§»åŠ¨é€Ÿåº¦ï¼Œå› ä¸ºå°å‹å¿«é€Ÿè •è™«éœ€è¦ 4 å€ç§»åŠ¨æˆ–ä¿®å»ºé“è·¯ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Game.spawns[&#x27;Spawn1&#x27;].spawnCreep( [WORK,WORK,WORK,WORK,CARRY,MOVE,MOVE],</span><br><span class="line">    &#x27;HarvesterBig&#x27;,</span><br><span class="line">    &#123; memory: &#123; role: &#x27;harvester&#x27; &#125; &#125; );</span><br></pre></td></tr></table></figure>

<p>å› æ­¤ï¼Œé€šè¿‡å‡çº§æ‚¨çš„æ§åˆ¶å™¨ã€å»ºé€ æ–°çš„æ‰©å±•è®¾å¤‡å’Œæ›´å¼ºå¤§çš„å°å…µï¼Œæ‚¨å¯ä»¥å¤§å¤§æé«˜æ®–æ°‘åœ°å·¥ä½œçš„æ•ˆç‡ã€‚æ­¤å¤–ï¼Œç”¨æ›´å°‘çš„å¤§å‹è •è™«å–ä»£å¤§é‡çš„å°å‹è •è™«ï¼Œè¿˜èƒ½èŠ‚çœæ§åˆ¶å®ƒä»¬æ‰€éœ€çš„ CPU èµ„æºï¼Œè€Œè¿™æ­£æ˜¯åœ¨çº¿æ¨¡å¼çš„é‡è¦å‰æã€‚</p>
<p>ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†è®¨è®ºå¦‚ä½•è®¾ç½®è‡ªåŠ¨åˆ¶é€ æ–°è •è™«ã€‚</p>
<h3 id="4-è‡ªåŠ¨é€ screeps"><a href="#4-è‡ªåŠ¨é€ screeps" class="headerlink" title="4.è‡ªåŠ¨é€ screeps"></a>4.è‡ªåŠ¨é€ screeps</h3><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç›´æ¥åœ¨æ§åˆ¶å°ä¸­åˆ›å»ºæ–°çš„è •è™«ã€‚ç»å¸¸è¿™æ ·åšå¹¶ä¸æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œå› ä¸º â€œè •è™« â€œçš„ç†å¿µå°±æ˜¯è®©ä½ çš„èšç¾¤è‡ªå·±æ§åˆ¶è‡ªå·±ã€‚å¦‚æœä½ èƒ½æ•™ä¼šä½ çš„ â€œåµ â€œè‡ªå·±åœ¨æˆ¿é—´é‡Œåˆ¶é€ è •è™«ï¼Œä½ å°±ä¼šåšå¾—å¾ˆå¥½ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªç›¸å½“å¤æ‚çš„è¯é¢˜ï¼Œè®¸å¤šç©å®¶èŠ±è´¹æ•°æœˆæ—¶é—´æ¥å®Œå–„å’Œæ”¹è¿›ä»–ä»¬çš„è‡ªåŠ¨ç”Ÿæˆä»£ç ã€‚ä½†è®©æˆ‘ä»¬è‡³å°‘å°è¯•ä¸€äº›ç®€å•çš„æ–¹æ³•ï¼Œå¹¶æŒæ¡ä¸€äº›åŸºæœ¬åŸåˆ™ã€‚</p>
<p>å½“è€çš„è •è™«å› å¹´é¾„æˆ–å…¶ä»–åŸå› æ­»äº¡æ—¶ï¼Œæ‚¨å°±å¿…é¡»åˆ›å»ºæ–°çš„è •è™«ã€‚ç”±äºæ¸¸æˆä¸­æ²¡æœ‰æŠ¥å‘Šç‰¹å®šå°å…µæ­»äº¡çš„äº‹ä»¶ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯è®¡ç®—æ‰€éœ€å°å…µçš„æ•°é‡ï¼Œå¦‚æœå°‘äºè§„å®šå€¼ï¼Œå°±å¼€å§‹åˆ¶é€ ã€‚</p>
<p>æœ‰å‡ ç§æ–¹æ³•å¯ä»¥è®¡ç®—æ‰€éœ€ç±»å‹çš„è •è™«æ•°é‡ã€‚å…¶ä¸­ä¸€ç§æ–¹æ³•æ˜¯å€ŸåŠ© _.filter å‡½æ•°è¿‡æ»¤ Game.creepsï¼Œå¹¶ä½¿ç”¨å…¶å†…å­˜ä¸­çš„è§’è‰²ã€‚è®©æˆ‘ä»¬è¯•ç€è¿™æ ·åšï¼Œå¹¶åœ¨æ§åˆ¶å°ä¸­æ˜¾ç¤ºå°äººçš„æ•°é‡ã€‚</p>
<p>åœ¨æ§åˆ¶å°ä¸­åŠ å…¥ä½¿ç”¨è§’è‰²æ”¶å‰²æœºè®¡ç®—çš„å°å…µæ•°é‡è¾“å‡ºã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var roleHarvester = require(&#x27;role.harvester&#x27;);</span><br><span class="line">var roleUpgrader = require(&#x27;role.upgrader&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports.loop = function () &#123;</span><br><span class="line"></span><br><span class="line">    var harvesters = _.filter(Game.creeps, (creep) =&gt; creep.memory.role == &#x27;harvester&#x27;);</span><br><span class="line">    console.log(&#x27;Harvesters: &#x27; + harvesters.length);</span><br><span class="line"></span><br><span class="line">    for(var name in Game.creeps) &#123;</span><br><span class="line">        var creep = Game.creeps[name];</span><br><span class="line">        if(creep.memory.role == &#x27;harvester&#x27;) &#123;</span><br><span class="line">            roleHarvester.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">        if(creep.memory.role == &#x27;upgrader&#x27;) &#123;</span><br><span class="line">            roleUpgrader.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¯”æ–¹è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ä»»ä½•æ—¶å€™éƒ½è‡³å°‘æœ‰ä¸¤å°æ”¶å‰²æœºã€‚æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æ¯æ¬¡å‘ç°å°‘äºè¿™ä¸ªæ•°é‡æ—¶è¿è¡Œ StructureSpawn.spawnCreepã€‚æ‚¨å¯ä»¥ä¸å®šä¹‰å…¶åç§°ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ä¼šè‡ªåŠ¨ç»™å‡ºï¼‰ï¼Œä½†ä¸è¦å¿˜è®°å®šä¹‰æ‰€éœ€çš„è§’è‰²ã€‚</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥æ·»åŠ ä¸€äº›æ–°çš„ RoomVisual è°ƒç”¨ï¼Œä»¥ä¾¿å¯è§†åŒ–æ­£åœ¨ç”Ÿæˆçš„è •è™«ã€‚</p>
<p>åœ¨ä¸»æ¨¡å—ä¸­æ·»åŠ  StructureSpawn.spawnCreep çš„é€»è¾‘ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">var roleHarvester = require(&#x27;role.harvester&#x27;);</span><br><span class="line">var roleUpgrader = require(&#x27;role.upgrader&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports.loop = function () &#123;</span><br><span class="line"></span><br><span class="line">    var harvesters = _.filter(Game.creeps, (creep) =&gt; creep.memory.role == &#x27;harvester&#x27;);</span><br><span class="line">    console.log(&#x27;Harvesters: &#x27; + harvesters.length);</span><br><span class="line"></span><br><span class="line">    if(harvesters.length &lt; 2) &#123;</span><br><span class="line">        var newName = &#x27;Harvester&#x27; + Game.time;</span><br><span class="line">        console.log(&#x27;Spawning new harvester: &#x27; + newName);</span><br><span class="line">        Game.spawns[&#x27;Spawn1&#x27;].spawnCreep([WORK,CARRY,MOVE], newName, </span><br><span class="line">            &#123;memory: &#123;role: &#x27;harvester&#x27;&#125;&#125;);        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    if(Game.spawns[&#x27;Spawn1&#x27;].spawning) &#123; </span><br><span class="line">        var spawningCreep = Game.creeps[Game.spawns[&#x27;Spawn1&#x27;].spawning.name];</span><br><span class="line">        Game.spawns[&#x27;Spawn1&#x27;].room.visual.text(</span><br><span class="line">            &#x27;ğŸ› ï¸&#x27; + spawningCreep.memory.role,</span><br><span class="line">            Game.spawns[&#x27;Spawn1&#x27;].pos.x + 1, </span><br><span class="line">            Game.spawns[&#x27;Spawn1&#x27;].pos.y, </span><br><span class="line">            &#123;align: &#x27;left&#x27;, opacity: 0.8&#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for(var name in Game.creeps) &#123;</span><br><span class="line">        var creep = Game.creeps[name];</span><br><span class="line">        if(creep.memory.role == &#x27;harvester&#x27;) &#123;</span><br><span class="line">            roleHarvester.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">        if(creep.memory.role == &#x27;upgrader&#x27;) &#123;</span><br><span class="line">            roleUpgrader.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥æ¨¡æ‹Ÿæ”¶å‰²æœºæ­»äº¡çš„æƒ…å†µã€‚ç°åœ¨ï¼Œä½ å¯ä»¥é€šè¿‡æ§åˆ¶å°æˆ–å³ä¾§çš„å±æ€§é¢æ¿å‘è •è™«å‘å‡ºè‡ªæ€å‘½ä»¤ã€‚</p>
<p>è®©å…¶ä¸­ä¸€ä¸ªæ”¶å‰²è€…è‡ªæ€ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Game.creeps[&#x27;Builder52477994&#x27;].suicide()</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæœ‰ä¸€ç‚¹å¾ˆé‡è¦ï¼Œé‚£å°±æ˜¯æ­»äº¡è •è™«çš„å†…å­˜ä¸ä¼šè¢«æ¸…é™¤ï¼Œè€Œæ˜¯ä¼šä¿ç•™ä¸‹æ¥ä»¥ä¾›ä»¥åå†æ¬¡ä½¿ç”¨ã€‚å¦‚æœæ¯æ¬¡åˆ›å»ºçš„è •è™«åç§°éƒ½æ˜¯éšæœºçš„ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æº¢å‡ºï¼Œå› æ­¤åº”åœ¨æ¯ä¸ª tick å¼€å§‹æ—¶ï¼ˆè •è™«åˆ›å»ºä»£ç ä¹‹å‰ï¼‰æ¸…é™¤å†…å­˜ã€‚</p>
<p>æ·»åŠ æ¸…é™¤å†…å­˜çš„ä»£ç ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var roleHarvester = require(&#x27;role.harvester&#x27;);</span><br><span class="line">var roleUpgrader = require(&#x27;role.upgrader&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports.loop = function () &#123;</span><br><span class="line"></span><br><span class="line">    module.exports = roleHarvester;</span><br><span class="line"></span><br><span class="line">    for(var name in Game.creeps) &#123;</span><br><span class="line">        var creep = Game.creeps[name];</span><br><span class="line">        if(creep.memory.role == &#x27;harvester&#x27;) &#123;</span><br><span class="line">            roleHarvester.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">        if(creep.memory.role == &#x27;upgrader&#x27;) &#123;</span><br><span class="line">            roleUpgrader.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œé€è€…çš„è®°å¿†å·²è¢«é—å¿˜ï¼Œè¿™ä¸ºæˆ‘ä»¬èŠ‚çœäº†èµ„æºã€‚</p>
<p>é™¤äº†åœ¨æ—§çš„è •è™«æ­»äº¡ååˆ›å»ºæ–°çš„è •è™«å¤–ï¼Œè¿˜æœ‰å¦ä¸€ç§æ–¹æ³•å¯ä»¥ä¿æŒæ‰€éœ€çš„è •è™«æ•°é‡ï¼šStructureSpawn.renewCreep æ–¹æ³•ã€‚è •è™«è€åŒ–åœ¨æ•™ç¨‹ä¸­æ˜¯ç¦ç”¨çš„ï¼Œå› æ­¤æˆ‘ä»¬å»ºè®®æ‚¨è‡ªè¡Œç†Ÿæ‚‰ã€‚</p>
<h3 id="5-é˜²å¾¡"><a href="#5-é˜²å¾¡" class="headerlink" title="5.é˜²å¾¡"></a>5.é˜²å¾¡</h3><p>æŠµå¾¡æ”»å‡»çš„æœ€å¯é æ–¹æ³•å°±æ˜¯ä½¿ç”¨æˆ¿é—´å®‰å…¨æ¨¡å¼ã€‚åœ¨å®‰å…¨æ¨¡å¼ä¸‹ï¼Œå…¶ä»–è •è™«æ— æ³•åœ¨æˆ¿é—´é‡Œä½¿ç”¨ä»»ä½•æœ‰å®³çš„æ–¹æ³•ï¼ˆä½†ä½ ä»ç„¶å¯ä»¥æŠµå¾¡é™Œç”Ÿäººçš„æ”»å‡»ï¼‰ã€‚</p>
<p>å®‰å…¨æ¨¡å¼æ˜¯é€šè¿‡æˆ¿é—´æ§åˆ¶å™¨æ¿€æ´»çš„ï¼Œæ§åˆ¶å™¨ä¸Šåº”è¯¥æœ‰å¯ä¾›ä½¿ç”¨çš„æ¿€æ´»ç¨‹åºã€‚è®©æˆ‘ä»¬ç”¨ä¸€æ¬¡æ¿€æ´»æ¥æ‰“å¼€æˆ‘ä»¬æˆ¿é—´çš„å®‰å…¨æ¨¡å¼ã€‚</p>
<p>æ¿€æ´»å®‰å…¨æ¨¡å¼ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Game.spawns[&#x27;Spawn1&#x27;].room.controller.activateSafeMode();</span><br></pre></td></tr></table></figure>

<p>å¡”æ¥¼æ˜¯ä¸»åŠ¨é˜²å¾¡æˆ¿é—´çš„æœ€ç®€å•æ–¹æ³•ã€‚å®ƒä»¬ä½¿ç”¨èƒ½é‡ï¼Œå¯ä»¥ç„å‡†æˆ¿é—´ä¸­çš„ä»»ä½•å°å…µè¿›è¡Œæ”»å‡»æˆ–æ²»ç–—ã€‚æ•ˆæœå–å†³äºå¡”ä¸ç›®æ ‡ä¹‹é—´çš„è·ç¦»ã€‚</p>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä¸ºæ–°å¡”æ‰“ä¸‹åŸºç¡€ã€‚æ‚¨å¯ä»¥åœ¨å¢™å†…è®¾ç½®ä»»ä½•æ‚¨æƒ³è®¾ç½®çš„åœ°æ–¹ï¼Œå¹¶å€ŸåŠ©ä¸Šé¢æ¿ä¸Šçš„ â€œå»ºé€  â€œæŒ‰é’®åœ¨é‚£é‡Œæ”¾ç½®å»ºç­‘å·¥åœ°ã€‚</p>
<p>æ”¾ç½®å¡”æ¥¼çš„å»ºç­‘å·¥åœ°ï¼ˆæ‰‹åŠ¨æˆ–ä½¿ç”¨ä¸‹é¢çš„ä»£ç ï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Game.spawns[&#x27;Spawn1&#x27;].room.createConstructionSite( 23, 22, STRUCTURE_TOWER );</span><br></pre></td></tr></table></figure>

<p>é«˜å¡”ä¼šæ¶ˆè€—èƒ½é‡ï¼Œå› æ­¤æˆ‘ä»¬è¦è®¾ç½®æ”¶å‰²æœºçš„è§’è‰²ï¼Œè®©å®ƒä¸å…¶ä»–ç»“æ„ç‰©ä¸€èµ·ä¸ºé«˜å¡”æä¾›èƒ½é‡ã€‚ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦åœ¨æ”¶å‰²æœºé’ˆå¯¹çš„ç»“æ„è¿‡æ»¤å™¨ä¸­æ·»åŠ  STRUCTURE_TOWER å¸¸é‡ã€‚</p>
<p>å°† STRUCTURE_TOWER æ·»åŠ åˆ°æ¨¡å— role.harvester ä¸­ï¼Œç„¶åç­‰å¾…èƒ½é‡å‡ºç°åœ¨å¡”ä¸­ã€‚</p>
<p>role.harvester</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">var roleHarvester = &#123;</span><br><span class="line"></span><br><span class="line">    /** @param &#123;Creep&#125; creep **/</span><br><span class="line">    run: function(creep) &#123;</span><br><span class="line">	    if(creep.store.getFreeCapacity() &gt; 0) &#123;</span><br><span class="line">            var sources = creep.room.find(FIND_SOURCES);</span><br><span class="line">            if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) &#123;</span><br><span class="line">                creep.moveTo(sources[0], &#123;visualizePathStyle: &#123;stroke: &#x27;#ffaa00&#x27;&#125;&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            var targets = creep.room.find(FIND_STRUCTURES, &#123;</span><br><span class="line">                    filter: (structure) =&gt; &#123;</span><br><span class="line">                        return (structure.structureType == STRUCTURE_EXTENSION ||</span><br><span class="line">                                structure.structureType == STRUCTURE_SPAWN ||</span><br><span class="line">                                structure.structureType == STRUCTURE_TOWER) &amp;&amp; </span><br><span class="line">                                structure.store.getFreeCapacity(RESOURCE_ENERGY) &gt; 0;</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            if(targets.length &gt; 0) &#123;</span><br><span class="line">                if(creep.transfer(targets[0], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) &#123;</span><br><span class="line">                    creep.moveTo(targets[0], &#123;visualizePathStyle: &#123;stroke: &#x27;#ffffff&#x27;&#125;&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">module.exports = roleHarvester;</span><br></pre></td></tr></table></figure>

<p>å¾ˆå¥½ï¼Œä½ çš„å¡”å·²ç»å¯ä»¥ä½¿ç”¨äº†ï¼</p>
<p>å’Œçˆ¬è¡Œä¸€æ ·ï¼Œå¡”ä¹Ÿæœ‰å‡ ç§ç±»ä¼¼çš„æ–¹æ³•ï¼šæ”»å‡»ã€æ²»ç–—å’Œä¿®å¤ã€‚æ¯æ¬¡è¡ŒåŠ¨æ¶ˆè€— 10 ä¸ªèƒ½é‡å•ä½ã€‚æˆ‘ä»¬éœ€è¦åœ¨å‘ç°æœ€è¿‘çš„æ•Œäººè •è™«æ—¶å¯¹å…¶ä½¿ç”¨æ”»å‡»ã€‚è¯·è®°ä½ï¼Œè·ç¦»æ˜¯è‡³å…³é‡è¦çš„ï¼šç›¸åŒçš„èƒ½é‡æ¶ˆè€—ä¸‹ï¼Œæ•ˆæœå¯ä»¥å¼ºæ•°å€ï¼</p>
<p>è¦ç›´æ¥è·å–å¡”æ¥¼å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨å³ä¾§é¢æ¿ä¸­çš„ ID å’Œ Game.getObjectById æ–¹æ³•ã€‚</p>
<p>åœ¨å¡”çš„å¸®åŠ©ä¸‹æ‘§æ¯æ•Œäººçš„å°å…µã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">var roleHarvester = require(&#x27;role.harvester&#x27;);</span><br><span class="line">var roleUpgrader = require(&#x27;role.upgrader&#x27;);</span><br><span class="line">var roleBuilder = require(&#x27;role.builder&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports.loop = function () &#123;</span><br><span class="line"></span><br><span class="line">    var tower = Game.getObjectById(&#x27;e24e85f11ef1ef37ef3d24a1&#x27;);</span><br><span class="line">    if(tower) &#123;</span><br><span class="line">        var closestHostile = tower.pos.findClosestByRange(FIND_HOSTILE_CREEPS);</span><br><span class="line">        if(closestHostile) &#123;</span><br><span class="line">            tower.attack(closestHostile);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for(var name in Game.creeps) &#123;</span><br><span class="line">        var creep = Game.creeps[name];</span><br><span class="line">        if(creep.memory.role == &#x27;harvester&#x27;) &#123;</span><br><span class="line">            roleHarvester.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">        if(creep.memory.role == &#x27;upgrader&#x27;) &#123;</span><br><span class="line">            roleUpgrader.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">        if(creep.memory.role == &#x27;builder&#x27;) &#123;</span><br><span class="line">            roleBuilder.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ•Œäººçš„å°å…µè¢«æ¶ˆç­äº†ï¼Œæˆ‘ä»¬çš„æ®–æ°‘åœ°å¯ä»¥æ¾å£æ°”äº†ã€‚ä¸è¿‡ï¼Œå…¥ä¾µè€…åœ¨çŸ­æš‚çš„æ”»å‡»ä¸­æŸåäº†ä¸€äº›å¢™å£ã€‚ä½ æœ€å¥½è®¾ç½®è‡ªåŠ¨ä¿®å¤åŠŸèƒ½ã€‚</p>
<p>å°å…µå’Œé˜²å¾¡å¡”éƒ½å¯ä»¥ä¿®å¤æŸåçš„å»ºç­‘ã€‚è®©æˆ‘ä»¬å°è¯•ç”¨å¡”æ¥ä¿®å¤ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨æ–¹æ³• repairã€‚ä½ è¿˜éœ€è¦ Room.find æ–¹æ³•å’Œä¸€ä¸ªè¿‡æ»¤å™¨æ¥å®šä½æŸåçš„å¢™å£ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œç”±äºå¢™å£ä¸å±äºä»»ä½•ç©å®¶ï¼Œå› æ­¤æŸ¥æ‰¾å®ƒä»¬éœ€è¦ä½¿ç”¨å¸¸é‡ FIND_STRUCTURESï¼Œè€Œä¸æ˜¯ FIND_MY_STRUCTURESã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">var roleHarvester = require(&#x27;role.harvester&#x27;);</span><br><span class="line">var roleUpgrader = require(&#x27;role.upgrader&#x27;);</span><br><span class="line">var roleBuilder = require(&#x27;role.builder&#x27;);</span><br><span class="line"></span><br><span class="line">module.exports.loop = function () &#123;</span><br><span class="line"></span><br><span class="line">    var tower = Game.getObjectById(&#x27;e24e85f11ef1ef37ef3d24a1&#x27;);</span><br><span class="line">    if(tower) &#123;</span><br><span class="line">        var closestDamagedStructure = tower.pos.findClosestByRange(FIND_STRUCTURES, &#123;</span><br><span class="line">            filter: (structure) =&gt; structure.hits &lt; structure.hitsMax</span><br><span class="line">        &#125;);</span><br><span class="line">        if(closestDamagedStructure) &#123;</span><br><span class="line">            tower.repair(closestDamagedStructure);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        var closestHostile = tower.pos.findClosestByRange(FIND_HOSTILE_CREEPS);</span><br><span class="line">        if(closestHostile) &#123;</span><br><span class="line">            tower.attack(closestHostile);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for(var name in Game.creeps) &#123;</span><br><span class="line">        var creep = Game.creeps[name];</span><br><span class="line">        if(creep.memory.role == &#x27;harvester&#x27;) &#123;</span><br><span class="line">            roleHarvester.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">        if(creep.memory.role == &#x27;upgrader&#x27;) &#123;</span><br><span class="line">            roleUpgrader.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">        if(creep.memory.role == &#x27;builder&#x27;) &#123;</span><br><span class="line">            roleBuilder.run(creep);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="else"><a href="#else" class="headerlink" title="else"></a>else</h1><h4 id="é‡‡çŸ¿"><a href="#é‡‡çŸ¿" class="headerlink" title="é‡‡çŸ¿"></a>é‡‡çŸ¿</h4><p>é‡‡çŸ¿çš„è®©ä»–ä¸€ç›´åœ¨çŸ¿ä¸Šé‡‡é›†ï¼Œç”¨transferè¿çŸ¿</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Game.spawns[&#x27;Spawn1&#x27;].spawnCreep([WORK,CARRY,MOVE,MOVE,MOVE], u, </span><br><span class="line">                &#123;memory: &#123;role: &#x27;bigharvester&#x27;&#125;&#125;);</span><br></pre></td></tr></table></figure>



<h3 id="é€ extension"><a href="#é€ extension" class="headerlink" title="é€ extension"></a>é€ extension</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for (var i = 25; i &lt;= 29; i++) &#123;</span><br><span class="line">   Game.spawns[&#x27;Spawn1&#x27;].room.createConstructionSite(26, 25, STRUCTURE_EXTENSION);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Game.spawns[&#x27;Spawn1&#x27;].room.createConstructionSite(26, 25, STRUCTURE_EXTENSION);</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h1 id="Nooby-Guide"><a href="#Nooby-Guide" class="headerlink" title="Nooby Guide"></a>Nooby Guide</h1><ul>
<li><p>è°ƒç”¨module</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var roleHarvester=require(&#x27;role.harvester&#x27;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡creepçš„nameè°ƒç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(let name in Game.creeps)&#123;</span><br><span class="line">	var creep = Game.creeps[name];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”Ÿæˆharvester</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var name=Game.spawns.Spawn1.createCreep([WORK,WORK,CARRY,WORK], undefined,&#123;role: &#x27;harvester&#x27;,working:false&#125;);</span><br><span class="line">//è¾“å‡ºåå­—</span><br><span class="line">if(!(name &lt; 0))&#123;</span><br><span class="line">	console.log(&quot;spawning new creep: &quot;+ name);</span><br><span class="line">&#125;</span><br><span class="line">//jsé‡Œæ¯”è¾ƒstringå’Œintä¼šä¸€ç›´è¿”å›false</span><br></pre></td></tr></table></figure>
</li>
<li><p>harvesterå‚æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var minHarvesterNum=10</span><br><span class="line">var numberOfHarvester = _.sum(Game.creeps, (c) =&gt; c.memory.role ==&#x27;harvester&#x27;);</span><br><span class="line">console.log(numberOfHarvester)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="build-structure"><a href="#build-structure" class="headerlink" title="build structure"></a>build structure</h3><p>- </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/10/11/ssh%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/10/11/ssh%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8/" itemprop="url">sshè¿œç¨‹æœåŠ¡å™¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-10-11T20:55:19+08:00">
                2023-10-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="NVIDIA"><a href="#NVIDIA" class="headerlink" title="NVIDIA"></a>NVIDIA</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi -loop 5</span><br></pre></td></tr></table></figure>

<p>éš”5ç§’æ‰“å°ä¸€æ¬¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>





<h1 id="SSH"><a href="#SSH" class="headerlink" title="SSH"></a>SSH</h1><p>opensshç”Ÿæˆå…¬é’¥ç§é’¥</p>
<p>å…¬é’¥æ”¾åˆ°è¿œç¨‹æ–‡ä»¶å¤¹</p>
<h1 id="å¸¸ç”¨æŒ‡ä»¤"><a href="#å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="å¸¸ç”¨æŒ‡ä»¤"></a>å¸¸ç”¨æŒ‡ä»¤</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate nlp_deploy &amp;&amp; cd HQ/FocalNet/</span><br></pre></td></tr></table></figure>

<h1 id="tmux"><a href="#tmux" class="headerlink" title="tmux"></a>tmux</h1><p>åˆ—å‡ºå¯¹è¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tmux list-sessions</span><br></pre></td></tr></table></figure>

<p>å›åˆ°å¯¹è¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tmux attach-session -t</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tmux attach-session -t your-session-name</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tmux new-session -s session-name  # åˆ›å»ºä¸€ä¸ªæ–°ä¼šè¯å¹¶ä¸ºå…¶æŒ‡å®šåç§°</span><br><span class="line">tmux rename-session -t old-session-name new-session-name  # é‡å‘½åä¼šè¯çš„åç§°</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>æ‰“å¼€é¼ æ ‡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tmux setw -g mouse on</span><br></pre></td></tr></table></figure>



<p>train-1011</p>
<p>å®éªŒå®¤V100</p>
<p>tmux</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train exp3ï¼Œå¤§çš„é‚£ä¸ªfocalnet_tiny_lrf_sparsercnn_3x</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">train-base exp2ï¼Œbaseé‚£ä¸ªfocalnet_base_lrf device1 lrfæ•ˆæœä¸å¥½</span><br><span class="line">train-base exp7ï¼Œbaseé‚£ä¸ªfocalnet_base_srf device 1 ç”¨srf</span><br></pre></td></tr></table></figure>

<p>æœ¬åœ°ç¬”è®°æœ¬</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">focalnet_tiny_lrf exp3</span><br></pre></td></tr></table></figure>

<p>å®éªŒå®¤3070</p>
<p>1011æ™šä¸Š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">focalnet_tiny_srf exp</span><br></pre></td></tr></table></figure>

<p>1012æ—©ä¸Š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">focalnet_tiny_srf exp3</span><br></pre></td></tr></table></figure>





<p>/home/gv1001107/HQ/FocalNet/runs/train/exp2/weights/last.pt</p>
<p>yoloåŸå§‹æ¨¡å‹</p>
<p><img src="/2023/10/11/ssh%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8/image-20231012145854953.png" alt="image-20231012145854953"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/10/09/yolo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/10/09/yolo/" itemprop="url">yolo</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-10-09T19:24:17+08:00">
                2023-10-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h1><h3 id="å®˜æ–¹é¡¹ç›®"><a href="#å®˜æ–¹é¡¹ç›®" class="headerlink" title="å®˜æ–¹é¡¹ç›®"></a>å®˜æ–¹é¡¹ç›®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/ultralytics/yolov5</span><br></pre></td></tr></table></figure>

<p>ç”¨å“ªä¸ªæ¨¡å‹å°±æŠŠ<code>.pt</code>æ¨¡å‹ä¸‹è½½ä¸‹æ¥æ”¾åˆ°modelsæ–‡ä»¶å¤¹</p>
<p><img src="/2023/10/09/yolo/image-20231009192605348.png" alt="image-20231009192605348"></p>
<h3 id="video"><a href="#video" class="headerlink" title="video"></a>video</h3><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1tM411a7it/?spm_id_from=333.999.0.0&amp;vd_source=3d040baeb67aeceb2bba9c7169a67a96">https://www.bilibili.com/video/BV1tM411a7it/?spm_id_from=333.999.0.0&amp;vd_source=3d040baeb67aeceb2bba9c7169a67a96</a></p>
<h3 id="script"><a href="#script" class="headerlink" title="script"></a>script</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/z1069614715/objectdetection_script/tree/master/yolo</span><br></pre></td></tr></table></figure>

<h3 id="dataset"><a href="#dataset" class="headerlink" title="dataset"></a>dataset</h3><p>type:</p>
<ul>
<li>VOC<ul>
<li>xml2txt.py<ul>
<li>postfix-&gt; image type, jpg or png</li>
<li>image, xml, txt path</li>
<li>run: python xml2txt.py</li>
</ul>
</li>
</ul>
</li>
<li>yoloæ ¼å¼ç›´æ¥æ”¹è¿™ä¸ª<ul>
<li>data.yaml<ul>
<li>ç±»åˆ«æ•°nc</li>
<li>ç±»åˆ«åç§°names</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="train"><a href="#train" class="headerlink" title="train"></a>train</h3><p>è®¾ç½®å‚æ•°ï¼Œå¿«é€Ÿä¸Šæ‰‹</p>
<p>weightæƒé‡ï¼Œåˆšæ‰ä¸‹è½½çš„yolov5n.pt</p>
<p>cfgé…ç½®æ–‡ä»¶ï¼Œmodelsé‡Œé¢ï¼Œå¯¹åº”æƒé‡</p>
<p>dataï¼Œæ•°æ®é›†æ–‡ä»¶</p>
<p>hypï¼Œè¶…å‚æ•°</p>
<p>epoch</p>
<p>deviceï¼Œæ˜¾å¡ï¼Œcpu</p>
<p>workerï¼Œçº¿ç¨‹ï¼Œå¯ä»¥å¡«0ï¼ˆæ…¢ï¼Œä½†ä¸ä¼šæŠ¥é”™ï¼‰</p>
<p>æ”¹å®Œå°±å¯ä»¥è®­ç»ƒäº†</p>
<p>è®­ç»ƒå¥½çš„æƒé‡å¯ä»¥åœ¨runs/train/exp/weightsä¸‹æ‰¾åˆ°</p>
<h3 id="validation"><a href="#validation" class="headerlink" title="validation"></a>validation</h3><p>å¯¼å…¥è®­ç»ƒå¥½çš„æƒé‡ï¼ˆæ”¹weightï¼‰</p>
<p>ç²¾åº¦ï¼šæ•°æ®é›†å¾ˆå¯†é›†ï¼Œè°ƒiou-thres</p>
<p>task</p>
<h1 id="é¢„æµ‹"><a href="#é¢„æµ‹" class="headerlink" title="é¢„æµ‹"></a>é¢„æµ‹</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ python segment/predict.py --weights yolov5s-seg.pt --source 0                               # webcam</span><br><span class="line">                                                              img.jpg                         # image</span><br><span class="line">                                                              vid.mp4                         # video</span><br><span class="line">                                                              screen                          # screenshot</span><br><span class="line">                                                              path/                           # directory</span><br><span class="line">                                                              list.txt                        # list of images</span><br><span class="line">                                                              list.streams                    # list of streams</span><br><span class="line">                                                              &#x27;path/*.jpg&#x27;                    # glob</span><br><span class="line">                                                              &#x27;https://youtu.be/LNwODJXcvt4&#x27;  # YouTube</span><br><span class="line">                                                              &#x27;rtsp://example.com/media.mp4&#x27;  # RTSP, RTMP, HTTP stream</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/10/08/docker+FocalNet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/10/08/docker+FocalNet/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-10-08T22:53:12+08:00">
                2023-10-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="docker-FocalNet"><a href="#docker-FocalNet" class="headerlink" title="docker+FocalNet"></a>docker+FocalNet</h1><h1 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h1><p>æ‹‰å–cuda11.7</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nvidia/cuda:11.7.1-devel-ubuntu22.04</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/572320455">https://zhuanlan.zhihu.com/p/572320455</a></p>
<p>è¿è¡Œå®¹å™¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm --gpus all nvidia/cuda:11.0.3-base-ubuntu20.04 nvidia-smi</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --rm --name test --gpus all ubuntu:latest</span><br></pre></td></tr></table></figure>

<p>é…ç½®ç¯å¢ƒ</p>
<p>æ³¨æ„ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/linhaifeng/p/16108285.html">https://www.cnblogs.com/linhaifeng/p/16108285.html</a></p>
<p>\1. æ˜¾å¡é©±åŠ¨åœ¨æ‰€æœ‰æ–¹å¼ä¸­ï¼Œéƒ½è¦å…ˆå®‰è£…å¥½ï¼Œå®¹å™¨æ˜¯ä¸ä¼šæœ‰æ˜¾å¡é©±åŠ¨çš„ï¼Œä¸€å°ç‰©ç†æœºçš„æ˜¾å¡åªå¯¹åº”ä¸€ä¸ªæ˜¾å¡é©±åŠ¨ï¼Œå½“æ˜¾å¡é©±åŠ¨å®‰è£…å¥½åï¼ˆå³ä½¿æœªå®‰è£…cudaï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤nvidia-smi</p>
<p>\2. nvidia-smiæ˜¾ç¤ºçš„æ˜¯æ˜¾å¡é©±åŠ¨å¯¹åº”çš„cudaç‰ˆæœ¬ï¼Œnvcc -V æ˜¾ç¤ºçš„è¿è¡Œæ˜¯cudaçš„ç‰ˆæœ¬<br>è¡¥å……</p>
<h3 id="pytorch"><a href="#pytorch" class="headerlink" title="pytorch"></a>pytorch</h3><h5 id="æ‹‰å–"><a href="#æ‹‰å–" class="headerlink" title="æ‹‰å–"></a>æ‹‰å–</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull pytorch/pytorch:2.0.1-cuda11.7-cudnn8-runtime</span><br></pre></td></tr></table></figure>

<h5 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm --gpus all -it --name pytorch_env pytorch/pytorch:2.0.1-cuda11.7-cudnn8-runtime /bin/bash</span><br></pre></td></tr></table></figure>

<h5 id="4-è®¾ç½®æ˜ å°„ç›®å½•"><a href="#4-è®¾ç½®æ˜ å°„ç›®å½•" class="headerlink" title="4.è®¾ç½®æ˜ å°„ç›®å½•"></a>4.è®¾ç½®æ˜ å°„ç›®å½•</h5><p>åœ¨å®¹å™¨ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦è¯»å–å¤–éƒ¨ä¸»æœºæ–‡ä»¶ï¼Œå› æ­¤éœ€è¦åœ¨å¯åŠ¨æ—¶æŒ‡å®šæ˜ å°„ç›®å½•ã€‚ä¸‹é¢æˆ‘ä»¬å°†æŠŠä¸»æœºä¸Šçš„/home/user/dataç›®å½•æ˜ å°„åˆ°å®¹å™¨çš„/dataç›®å½•ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm --gpus all -it \</span><br><span class="line">--name railway_detect \</span><br><span class="line">-v C:\Users\74420\Desktop\yolo\railwaydetect\input:/usr/local/serving/input/ \</span><br><span class="line">-v C:\Users\74420\Desktop\yolo\railwaydetect\:/usr/local/railwaydetect/ \</span><br><span class="line">pytorch/pytorch:2.0.1-cuda11.7-cudnn8-runtime \</span><br><span class="line">/bin/bash</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="powershell"><a href="#powershell" class="headerlink" title="powershell"></a>powershell</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm --gpus all -it `</span><br><span class="line">--name bjgydax_test `</span><br><span class="line">-v C:\Users\74420\Desktop\yolo\railwaydetect\input: /usr/local/serving/input/ `</span><br><span class="line">-v C:\Users\74420\Desktop\yolo\bjgydax\:/usr/local/railwaydetect/ `</span><br><span class="line">bjgydax:latest `</span><br><span class="line">/bin/bash</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h5 id="5-è¿›å…¥å®¹å™¨"><a href="#5-è¿›å…¥å®¹å™¨" class="headerlink" title="5.è¿›å…¥å®¹å™¨"></a>5.è¿›å…¥å®¹å™¨</h5><p>æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨docker execå‘½ä»¤è¿›å…¥å®¹å™¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it --rm --gpus all pytorch_test /bin/bash</span><br></pre></td></tr></table></figure>



<h3 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm --gpus all -it --name railway_detect -v C:\Users\74420\Desktop\yolo\railwaydetect\input:/usr/local/serving/input/ railway-detect /bin/bash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">docker run --rm --gpus all -it `</span><br><span class="line">--name railway_detect `</span><br><span class="line">-v C:\Users\74420\Desktop\yolo\railwaydetect\input:/usr/local/serving/input/ `</span><br><span class="line">railway-detect `</span><br><span class="line">/bin/bash</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="æ¢æº"><a href="#æ¢æº" class="headerlink" title="æ¢æº"></a>æ¢æº</h3><p>æ›´æ¢Ubuntuçš„è½¯ä»¶æºå¯ä»¥å¸®åŠ©åŠ é€Ÿè½¯ä»¶åŒ…çš„ä¸‹è½½å’Œæ›´æ–°ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è§£å†³ä¸€äº›ç½‘ç»œè®¿é—®é—®é¢˜ã€‚ä»¥ä¸‹æ˜¯åœ¨Ubuntuä¸Šæ›´æ¢è½¯ä»¶æºçš„ä¸€èˆ¬æ­¥éª¤ï¼š</p>
<p><strong>è¯·æ³¨æ„ï¼šåœ¨æ›´æ¢è½¯ä»¶æºä¹‹å‰ï¼Œè¯·ç¡®ä¿å¤‡ä»½ç³»ç»Ÿæ•°æ®ï¼Œä»¥é˜²å‘ç”Ÿæ„å¤–æƒ…å†µã€‚</strong></p>
<ol>
<li><p><strong>å¤‡ä»½æºåˆ—è¡¨æ–‡ä»¶</strong>ï¼š</p>
<p>åœ¨æ›´æ”¹è½¯ä»¶æºä¹‹å‰ï¼Œé¦–å…ˆå¤‡ä»½ä½ çš„æºåˆ—è¡¨æ–‡ä»¶ï¼Œä»¥ä¾¿åœ¨éœ€è¦æ—¶æ¢å¤åˆ°é»˜è®¤è®¾ç½®ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¤‡ä»½æºåˆ—è¡¨æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash</span><br></pre></td></tr></table></figure></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /etc/apt/sources.list /etc/apt/sources.list.backup</span><br></pre></td></tr></table></figure>

<p><strong>é€‰æ‹©æ–°çš„æº</strong>ï¼š</p>
<p>ä½ å¯ä»¥æ ¹æ®ä½ çš„åœ°ç†ä½ç½®å’Œç½‘ç»œæƒ…å†µé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„Ubuntuè½¯ä»¶æºã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„è½¯ä»¶æºï¼š</p>
<ul>
<li>é»˜è®¤æºï¼ˆå®˜æ–¹æºï¼‰ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒUbuntuä½¿ç”¨å®˜æ–¹æºï¼Œé€šå¸¸é€Ÿåº¦è¾ƒæ…¢ã€‚</li>
<li>é˜¿é‡Œäº‘æºï¼šé€‚ç”¨äºä¸­å›½å¤§é™†ç”¨æˆ·ï¼Œæä¾›äº†æ›´å¿«çš„ä¸‹è½½é€Ÿåº¦ã€‚</li>
<li>æ¸…åå¤§å­¦æºï¼šæä¾›äº†è¾ƒå¿«çš„ä¸‹è½½é€Ÿåº¦å’Œç¨³å®šçš„æœåŠ¡ã€‚</li>
</ul>
<p><strong>ç¼–è¾‘æºåˆ—è¡¨æ–‡ä»¶</strong>ï¼š</p>
<p>ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¾‹å¦‚<code>nano</code>æˆ–<code>vim</code>ï¼‰æ¥ç¼–è¾‘æºåˆ—è¡¨æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯ç¼–è¾‘æºåˆ—è¡¨æ–‡ä»¶çš„ç¤ºä¾‹å‘½ä»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bash</span><br><span class="line">sudo vim /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<p>åœ¨ç¼–è¾‘å™¨ä¸­ï¼Œå°†åŸæ¥çš„æºæ›¿æ¢ä¸ºä½ é€‰æ‹©çš„æ–°æºã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦ä½¿ç”¨é˜¿é‡Œäº‘æºï¼Œå¯ä»¥å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°æ–‡ä»¶ä¸­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bash</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line"># é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨</span><br><span class="line"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>è¯·æ ¹æ®ä½ é€‰æ‹©çš„æºè¿›è¡Œç›¸åº”çš„ä¿®æ”¹ã€‚</p>
<p><strong>æ›´æ–°è½¯ä»¶åŒ…ä¿¡æ¯</strong>ï¼š</p>
<p>ä¿å­˜æºåˆ—è¡¨æ–‡ä»¶åï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ›´æ–°è½¯ä»¶åŒ…ä¿¡æ¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bash</span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>

<p>è¿™å°†ä»æ–°çš„æºè·å–è½¯ä»¶åŒ…ä¿¡æ¯ã€‚</p>
<p><strong>å‡çº§ç³»ç»Ÿ</strong>ï¼š</p>
<p>å¦‚æœéœ€è¦ï¼Œä½ å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å‡çº§ç³»ç»Ÿä¸­çš„æ‰€æœ‰è½¯ä»¶åŒ…ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure>

<p>è¿™å°†å®‰è£…æ–°çš„è½¯ä»¶åŒ…ç‰ˆæœ¬ã€‚</p>
<p>å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œä½ çš„Ubuntuç³»ç»Ÿå°†ä½¿ç”¨ä½ é€‰æ‹©çš„æ–°è½¯ä»¶æºæ¥è·å–è½¯ä»¶åŒ…ã€‚è¯·æ³¨æ„ï¼Œæ ¹æ®ä½ çš„åœ°ç†ä½ç½®å’Œç½‘ç»œæƒ…å†µï¼Œä¸åŒçš„æºå¯èƒ½ä¼šæœ‰ä¸åŒçš„é€Ÿåº¦å’Œå¯ç”¨æ€§ã€‚å¦‚æœåœ¨ä½¿ç”¨æ–°æºåé‡åˆ°é—®é¢˜ï¼Œä½ å¯ä»¥éšæ—¶æ¢å¤åˆ°é»˜è®¤çš„å®˜æ–¹æºï¼Œæ–¹æ³•æ˜¯å°†å¤‡ä»½çš„æºåˆ—è¡¨æ–‡ä»¶æ¢å¤åˆ°<code>/etc/apt/sources.list</code></p>
<h5 id="å¾…å®‰è£…åŒ…"><a href="#å¾…å®‰è£…åŒ…" class="headerlink" title="å¾…å®‰è£…åŒ…"></a>å¾…å®‰è£…åŒ…</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt install vim &amp;&amp;</span><br><span class="line">apt install docker &amp;&amp;</span><br><span class="line">apt install git &amp;&amp;</span><br></pre></td></tr></table></figure>



<h3 id="é¡¹ç›®è¿ç§»"><a href="#é¡¹ç›®è¿ç§»" class="headerlink" title="é¡¹ç›®è¿ç§»"></a>é¡¹ç›®è¿ç§»</h3><h5 id="æŒ‚è½½"><a href="#æŒ‚è½½" class="headerlink" title="æŒ‚è½½"></a>æŒ‚è½½</h5><h5 id="å¤åˆ¶åˆ°å®¹å™¨æœ¬åœ°"><a href="#å¤åˆ¶åˆ°å®¹å™¨æœ¬åœ°" class="headerlink" title="å¤åˆ¶åˆ°å®¹å™¨æœ¬åœ°"></a>å¤åˆ¶åˆ°å®¹å™¨æœ¬åœ°</h5><h3 id="è¾“å…¥è¾“å‡º"><a href="#è¾“å…¥è¾“å‡º" class="headerlink" title="è¾“å…¥è¾“å‡º"></a>è¾“å…¥è¾“å‡º</h3><p>æ¸…ç©ºæ–‡ä»¶å¤¹å•ç‹¬å¢åŠ ä¸€ä¸ªæ¨¡å—def refresh_output():</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">def refresh_output():</span><br><span class="line"></span><br><span class="line">    directory_path=ROOT / &#x27;output&#x27;</span><br><span class="line">    def delete_contents_of_directory(directory_path):</span><br><span class="line">        try:</span><br><span class="line">            for item in os.listdir(directory_path):</span><br><span class="line">                item_path = os.path.join(directory_path, item)</span><br><span class="line">                if os.path.isfile(item_path):</span><br><span class="line">                    os.remove(item_path)</span><br><span class="line">                elif os.path.isdir(item_path):</span><br><span class="line">                    shutil.rmtree(item_path)</span><br><span class="line">            print(f&quot;Deleted all contents of directory: &#123;directory_path&#125;&quot;)</span><br><span class="line">        except Exception as e:</span><br><span class="line">            print(f&quot;An error occurred: &#123;str(e)&#125;&quot;)</span><br><span class="line"></span><br><span class="line">    # è¦åˆ é™¤çš„ç›®å½•è·¯å¾„</span><br><span class="line">    directory_to_clear = &quot;output&quot;  # è¯·æ›¿æ¢ä¸ºä½ çš„ç›®å½•è·¯å¾„</span><br><span class="line"></span><br><span class="line">    # è°ƒç”¨å‡½æ•°æ¥åˆ é™¤ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹</span><br><span class="line">    delete_contents_of_directory(directory_to_clear)</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºæ ¼å¼ï¼Œç»Ÿä¸€txtå’Œjpgæ–‡ä»¶åï¼Œæ”¾åˆ°imageså’Œlabelsä¸¤ä¸ªæ–‡ä»¶å¤¹é‡Œé¢</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">def output():</span><br><span class="line"></span><br><span class="line">    # æŒ‡å®šå›¾ç‰‡æ‰€åœ¨ç›®å½•å’Œæ ‡ç­¾æ‰€åœ¨ç›®å½•</span><br><span class="line">    image_dir = ROOT / &#x27;output&#x27;  # æŒ‡å®šå›¾ç‰‡æ‰€åœ¨ç›®å½•</span><br><span class="line">    label_dir = ROOT / &#x27;output/labels&#x27;  # æŒ‡å®šæ ‡ç­¾æ‰€åœ¨ç›®å½•</span><br><span class="line"></span><br><span class="line">    # ç¡®ä¿imagesç›®å½•å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™åˆ›å»º</span><br><span class="line">    images_output_dir = os.path.join(image_dir, &quot;images&quot;)</span><br><span class="line">    os.makedirs(images_output_dir, exist_ok=True)</span><br><span class="line"></span><br><span class="line">    # è·å–æ‰€æœ‰jpgæ–‡ä»¶</span><br><span class="line">    jpg_files = [f for f in os.listdir(image_dir) if f.endswith(&quot;.jpg&quot;)]</span><br><span class="line"></span><br><span class="line">    # éå†æ‰€æœ‰jpgæ–‡ä»¶</span><br><span class="line">    for jpg_file in jpg_files:</span><br><span class="line">        # æ„å»ºå¯¹åº”çš„txtæ–‡ä»¶å</span><br><span class="line">        txt_file = os.path.splitext(jpg_file)[0] + &quot;.txt&quot;</span><br><span class="line">        txt_file_path = os.path.join(label_dir, txt_file)</span><br><span class="line"></span><br><span class="line">        # ç§»åŠ¨jpgæ–‡ä»¶åˆ°imagesç›®å½•ä¸‹</span><br><span class="line">        src_jpg_path = os.path.join(image_dir, jpg_file)</span><br><span class="line">        dest_jpg_path = os.path.join(images_output_dir, jpg_file)</span><br><span class="line">        shutil.move(src_jpg_path, dest_jpg_path)</span><br><span class="line"></span><br><span class="line">        # å¦‚æœå¯¹åº”çš„txtæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªç©ºçš„txtæ–‡ä»¶</span><br><span class="line">        if not os.path.exists(txt_file_path):</span><br><span class="line">            open(txt_file_path, &#x27;w&#x27;).close()</span><br></pre></td></tr></table></figure>



<p>è·¯å¾„ä¿®æ”¹ä¸‹é¢ä¸‰ä¸ªparser</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">parser.add_argument(&#x27;--project&#x27;, default=ROOT / &#x27;runs/detect&#x27;, help=&#x27;save results to project/name&#x27;)</span><br><span class="line">parser.add_argument(&#x27;--name&#x27;, default=&#x27;exp&#x27;, help=&#x27;save results to project/name&#x27;)</span><br><span class="line">parser.add_argument(&#x27;--exist-ok&#x27;, action=&#x27;store_true&#x27;, help=&#x27;existing project/name ok, do not increment&#x27;)</span><br></pre></td></tr></table></figure>



<h3 id="docker-save"><a href="#docker-save" class="headerlink" title="docker save"></a>docker save</h3><p>å…ˆæ‰“åŒ…æˆimage</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker commit 7d8f railway-detect</span><br></pre></td></tr></table></figure>

<p>å†saveåˆ°æœ¬åœ°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker save -o C:\Users\74420\Desktop\railway-detect.tar railway-detect</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker save -o C:\Users\74420\Desktop\bjgydax.tar bjgydax</span><br></pre></td></tr></table></figure>







<h1 id="FocalNet"><a href="#FocalNet" class="headerlink" title="FocalNet"></a>FocalNet</h1><h2 id="YOLOV5æ”¹è¿›-å…·æœ‰ç„¦ç‚¹è°ƒåˆ¶æ¨¡å—çš„FocalNet"><a href="#YOLOV5æ”¹è¿›-å…·æœ‰ç„¦ç‚¹è°ƒåˆ¶æ¨¡å—çš„FocalNet" class="headerlink" title="YOLOV5æ”¹è¿›-å…·æœ‰ç„¦ç‚¹è°ƒåˆ¶æ¨¡å—çš„FocalNet"></a>YOLOV5æ”¹è¿›-å…·æœ‰ç„¦ç‚¹è°ƒåˆ¶æ¨¡å—çš„FocalNet</h2><p> <a target="_blank" rel="noopener" href="https://b23.tv/57o5eTk">https://b23.tv/57o5eTk</a></p>
<h2 id="å®˜æ–¹é¡¹ç›®"><a href="#å®˜æ–¹é¡¹ç›®" class="headerlink" title="å®˜æ–¹é¡¹ç›®"></a>å®˜æ–¹é¡¹ç›®</h2><h3 id="winä¸‹socketæœ‰é—®é¢˜ï¼Œè½¬åˆ°linuxä¸‹"><a href="#winä¸‹socketæœ‰é—®é¢˜ï¼Œè½¬åˆ°linuxä¸‹" class="headerlink" title="winä¸‹socketæœ‰é—®é¢˜ï¼Œè½¬åˆ°linuxä¸‹"></a>winä¸‹socketæœ‰é—®é¢˜ï¼Œè½¬åˆ°linuxä¸‹</h3><p>æŠŠé¡¹ç›®æŒ‚è½½è¿‡å»</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp C:\Users\74420\Desktop\focalnet 582d:/workspace/focalnet</span><br></pre></td></tr></table></figure>

<p>ä»ç„¶æœ‰é—®é¢˜ï¼Œampé…ç½®ä¸å¥½</p>
<h3 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h3><p>To evaluate a pre-trained FocalNets on ImageNet val, run:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m torch.distributed.launch --nproc_per_node &lt;num-of-gpus-to-use&gt; --master_port 12345 main.py --eval --cfg &lt;config-file&gt; --resume &lt;checkpoint&gt; --data-path &lt;imagenet-path&gt; </span><br></pre></td></tr></table></figure>

<p>â€‹    </p>
<p>For example, to evaluate the <code>FocalNet-B</code> with a single GPU:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m torch.distributed.launch --nproc_per_node 1 --master_port 12345 main.py --eval --cfg configs/focalnet_base_srf.yaml --resume focalnet_base_srf.pth --data-path &lt;imagenet-path&gt;</span><br></pre></td></tr></table></figure>

<p>â€‹    </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m torch.distributed.launch --nproc_per_node 1 --master_port 12345 main.py --eval --cfg configs/focalnet_base_srf.yaml --resume focalnet_base_srf.pth --data-path C:\Users\74420\Desktop\focalnet\dataset\dataset_1010</span><br></pre></td></tr></table></figure>





<h1 id="yolo"><a href="#yolo" class="headerlink" title="yolo"></a>yolo</h1><h2 id="model"><a href="#model" class="headerlink" title="model"></a>model</h2><p>best model</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\ST_train_LBN\yolov5-6.1-backbone\runs\train\finetune_pruned_exp\competation_yolov5m\weights</span><br></pre></td></tr></table></figure>



<p>augmentations.py/letterbox</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"># Process predictions</span><br><span class="line">       for i, det in enumerate(pred):  # per image</span><br><span class="line">           seen += 1</span><br><span class="line">           if webcam:  # batch_size &gt;= 1</span><br><span class="line">               p, im0, frame = path[i], im0s[i].copy(), dataset.count</span><br><span class="line">               s += f&#x27;&#123;i&#125;: &#x27;</span><br><span class="line">           else:</span><br><span class="line">               p, im0, frame = path, im0s.copy(), getattr(dataset, &#x27;frame&#x27;, 0)</span><br><span class="line"></span><br><span class="line">           p = Path(p)  # to Path</span><br><span class="line">           save_path = str(save_dir / p.name)  # im.jpg</span><br><span class="line">           txt_path = str(save_dir / &#x27;labels&#x27; / p.stem) + (&#x27;&#x27; if dataset.mode == &#x27;image&#x27; else f&#x27;_&#123;frame&#125;&#x27;)  # im.txt</span><br><span class="line">           s += &#x27;%gx%g &#x27; % im.shape[2:]  # print string</span><br><span class="line">           imc = im0.copy() if save_crop else im0  # for save_crop</span><br><span class="line">           annotator = Annotator(im0, line_width=line_thickness, example=str(names))</span><br><span class="line">           if len(det):</span><br><span class="line">               if retina_masks:</span><br><span class="line">                   # scale bbox first the crop masks</span><br><span class="line">                   det[:, :4] = scale_boxes(im.shape[2:], det[:, :4], im0.shape).round()  # rescale boxes to im0 size</span><br><span class="line">                   masks = process_mask_native(proto[i], det[:, 6:], det[:, :4], im0.shape[:2])  # HWC</span><br><span class="line">               else:</span><br><span class="line">                   masks = process_mask(proto[i], det[:, 6:], det[:, :4], im.shape[2:], upsample=True)  # HWC</span><br><span class="line">                   det[:, :4] = scale_boxes(im.shape[2:], det[:, :4], im0.shape).round()  # rescale boxes to im0 size</span><br><span class="line"></span><br><span class="line">               # Segments</span><br><span class="line">               if save_txt:</span><br><span class="line">                   segments = [</span><br><span class="line">                       scale_segments(im0.shape if retina_masks else im.shape[2:], x, im0.shape, normalize=True)</span><br><span class="line">                       for x in reversed(masks2segments(masks))]</span><br><span class="line"></span><br><span class="line">               # Print results</span><br><span class="line">               for c in det[:, 5].unique():</span><br><span class="line">                   n = (det[:, 5] == c).sum()  # detections per class</span><br><span class="line">                   s += f&quot;&#123;n&#125; &#123;names[int(c)]&#125;&#123;&#x27;s&#x27; * (n &gt; 1)&#125;, &quot;  # add to string</span><br><span class="line"></span><br><span class="line">               # Mask plotting</span><br><span class="line">               annotator.masks(</span><br><span class="line">                   masks,</span><br><span class="line">                   colors=[colors(x, True) for x in det[:, 5]],</span><br><span class="line">                   im_gpu=torch.as_tensor(im0, dtype=torch.float16).to(device).permute(2, 0, 1).flip(0).contiguous() /</span><br><span class="line">                   255 if retina_masks else im[i])</span><br><span class="line"></span><br><span class="line">               # Write results</span><br><span class="line">               for j, (*xyxy, conf, cls) in enumerate(reversed(det[:, :6])):</span><br><span class="line">                   if save_txt:  # Write to file</span><br><span class="line">                       seg = segments[j].reshape(-1)  # (n,2) to (n*2)</span><br><span class="line">                       line = (cls, *seg, conf) if save_conf else (cls, *seg)  # label format</span><br><span class="line">                       with open(f&#x27;&#123;txt_path&#125;.txt&#x27;, &#x27;a&#x27;) as f:</span><br><span class="line">                           f.write((&#x27;%g &#x27; * len(line)).rstrip() % line + &#x27;\n&#x27;)</span><br><span class="line"></span><br><span class="line">                   if save_img or save_crop or view_img:  # Add bbox to image</span><br><span class="line">                       c = int(cls)  # integer class</span><br><span class="line">                       label = None if hide_labels else (names[c] if hide_conf else f&#x27;&#123;names[c]&#125; &#123;conf:.2f&#125;&#x27;)</span><br><span class="line">                       annotator.box_label(xyxy, label, color=colors(c, True))</span><br><span class="line">                       # annotator.draw.polygon(segments[j], outline=colors(c, True), width=3)</span><br><span class="line">                   if save_crop:</span><br><span class="line">                       save_one_box(xyxy, imc, file=save_dir / &#x27;crops&#x27; / names[c] / f&#x27;&#123;p.stem&#125;.jpg&#x27;, BGR=True)</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="try"><a href="#try" class="headerlink" title="try"></a>try</h2><p>è¾“å‡ºtxtï¼š</p>
<p>predict.py parser â€“save-txt default true</p>
<p>save-conf true ç½®ä¿¡åº¦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">parser.add_argument(&#x27;--save-txt&#x27;, default=True, help=&#x27;save results to *.txt&#x27;)</span><br><span class="line">parser.add_argument(&#x27;--save-conf&#x27;, default=True, help=&#x27;save confidences in --save-txt labels&#x27;)</span><br></pre></td></tr></table></figure>



<p>ä¿®æ”¹è¾“å‡ºåæ ‡</p>
<p>detect.py or predict.py</p>
<p>ä¸è¾“å‡ºsegï¼Œè¾“å‡ºxyxy</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># Write results</span><br><span class="line">                for j, (*xyxy, conf, cls) in enumerate(reversed(det[:, :6])):</span><br><span class="line">                    # xyxyæ˜¯ç›®æ ‡åæ ‡x1y1,x2y2ï¼Œå·¦ä¸Šè§’0,0</span><br><span class="line">                    if save_txt:  # Write to file</span><br><span class="line">                        seg = segments[j].reshape(-1)  # (n,2) to (n*2)</span><br><span class="line">                        line0 = (cls, *seg, conf) if save_conf else (cls, *seg)  # label format</span><br><span class="line">                        # with open(f&#x27;&#123;txt_path&#125;.txt&#x27;, &#x27;a&#x27;) as f:</span><br><span class="line">                        #     f.write((&#x27;%g &#x27; * len(line)).rstrip() % line + &#x27;\n&#x27;)</span><br><span class="line">                        # ä¸Šé¢çš„line:clsç±»åˆ«ï¼Œsegç›®æ ‡çš„åˆ†å‰²ä¿¡æ¯ï¼Œç›®æ ‡çš„è¾¹ç•Œæ¡†/è½®å»“ï¼Œconfç½®ä¿¡åº¦ï¼Œéœ€è¦å°†save_confè®¾ä¸ºTRUE</span><br><span class="line"></span><br><span class="line">                        line = (cls, *xyxy, conf) if save_conf else (cls, *xyxy)</span><br><span class="line">                        with open(f&#x27;&#123;txt_path&#125;.txt&#x27;, &#x27;a&#x27;) as f:</span><br><span class="line">                            formatted_line = &#x27; &#x27;.join([&#x27;%g&#x27; % item for item in line]) + &#x27;\n&#x27;</span><br><span class="line">                            f.write(formatted_line)</span><br><span class="line"></span><br><span class="line">                    if save_img or save_crop or view_img:  # Add bbox to image</span><br><span class="line">                        c = int(cls)  # integer class</span><br><span class="line">                        label = None if hide_labels else (names[c] if hide_conf else f&#x27;&#123;names[c]&#125; &#123;conf:.2f&#125;&#x27;)</span><br><span class="line">                        annotator.box_label(xyxy, label, color=colors(c, True))</span><br><span class="line">                        # annotator.draw.polygon(segments[j], outline=colors(c, True), width=3)</span><br><span class="line">                    if save_crop:</span><br><span class="line">                        save_one_box(xyxy, imc, file=save_dir / &#x27;crops&#x27; / names[c] / f&#x27;&#123;p.stem&#125;.jpg&#x27;, BGR=True)</span><br></pre></td></tr></table></figure>



<h2 id="é¢„æµ‹"><a href="#é¢„æµ‹" class="headerlink" title="é¢„æµ‹"></a>é¢„æµ‹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ python segment/predict.py --weights yolov5s-seg.pt --source 0                               # webcam</span><br><span class="line">                                                              img.jpg                         # image</span><br><span class="line">                                                              vid.mp4                         # video</span><br><span class="line">                                                              screen                          # screenshot</span><br><span class="line">                                                              path/                           # directory</span><br><span class="line">                                                              list.txt                        # list of images</span><br><span class="line">                                                              list.streams                    # list of streams</span><br><span class="line">                                                              &#x27;path/*.jpg&#x27;                    # glob</span><br><span class="line">                                                              &#x27;https://youtu.be/LNwODJXcvt4&#x27;  # YouTube</span><br><span class="line">                                                              &#x27;rtsp://example.com/media.mp4&#x27;  # RTSP, RTMP, HTTP stream</span><br></pre></td></tr></table></figure>



<h2 id="æ–‡ä»¶ç›®å½•"><a href="#æ–‡ä»¶ç›®å½•" class="headerlink" title="æ–‡ä»¶ç›®å½•"></a>æ–‡ä»¶ç›®å½•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/serving</span><br></pre></td></tr></table></figure>

<p>æŠŠé¡¹ç›®æ‹‰åˆ°è¿™é‡Œï¼Œè¾“å…¥è¾“å‡ºè‡ªç„¶å°±åœ¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/serving/input</span><br><span class="line">/usr/local/serving/output/images</span><br><span class="line">/usr/local/serving/output/labels</span><br></pre></td></tr></table></figure>



<h2 id="è¿è¡Œå‘½ä»¤ï¼š"><a href="#è¿è¡Œå‘½ä»¤ï¼š" class="headerlink" title="è¿è¡Œå‘½ä»¤ï¼š"></a>è¿è¡Œå‘½ä»¤ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/serving/ &amp;&amp; </span><br><span class="line">python3 detect.py</span><br></pre></td></tr></table></figure>



<h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><p><img src="/2023/10/08/docker+FocalNet/image-20231010191218938.png" alt="image-20231010191218938"></p>
<p>HQ:<br>è¾“å…¥æŒ‡ä»¤ï¼šcd /usr/local/serving/ &amp;&amp; python3 detect.py</p>
<p>HQ:<br>è¾“å‡ºå›¾åƒï¼šå¸¦ç›®æ ‡æ¡†çš„æ£€æµ‹æ•ˆæœå›¾ä¿å­˜è‡³<br>/usr/local/serving/output/images</p>
<p>HQ:<br><img src="/2023/10/08/docker+FocalNet/image-20231010191236168.png" alt="image-20231010191236168"></p>
<p>HQ:<br>è¾“å‡ºtxtï¼šè‹¥è¯¥å›¾ç‰‡ä¸­æ— ç›®æ ‡ï¼Œä»éœ€ä¿å­˜åŸå§‹å›¾ç‰‡å’Œç©º txt æ–‡ä»¶ï¼Œåç§°ä¸å›¾ç‰‡åç§°ä¿å­˜ä¸€è‡´<br>ä¿å­˜è‡³/usr/local/serving/output/labels</p>
<p>HQ:<br><img src="/2023/10/08/docker+FocalNet/image-20231010191240185.png" alt="image-20231010191240185"></p>
<p>HQ:<br>æ ‡è¯†ï¼šidentifying.txtï¼Œä¿å­˜è‡³/usr/local/serving/output/</p>
<p>HQ:<br>è¾“å…¥æ–‡ä»¶å¤¹ï¼š/usr/local/serving/inputï¼Œç›®å‰æŒ‚è½½çš„å®¿ä¸»æœºæ–‡ä»¶å¤¹</p>
<p>HQ:<br><img src="/2023/10/08/docker+FocalNet/image-20231010191244507.png" alt="image-20231010191244507"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/10/07/HomeAssistant/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/10/07/HomeAssistant/" itemprop="url">HomeAssistant</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-10-07T15:49:48+08:00">
                2023-10-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv15944396/">https://www.bilibili.com/read/cv15944396/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/10/07/Assistant/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/10/07/Assistant/" itemprop="url">Assistant</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-10-07T14:01:59+08:00">
                2023-10-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/10/03/esp32/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/10/03/esp32/" itemprop="url">esp32</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-10-03T14:32:10+08:00">
                2023-10-03
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h1><h3 id="Ardunio"><a href="#Ardunio" class="headerlink" title="Ardunio"></a>Ardunio</h3><p><a target="_blank" rel="noopener" href="https://www.arduino.cc/en/donate/">https://www.arduino.cc/en/donate/</a></p>
<p>é€‰just download</p>
<p>arduino ideä¸‹è½½</p>
<p>ç‚¹ç¯ç§‘æŠ€ï¼Œä¸‹è½½ç¦»çº¿åŒ…ï¼Œå®‰è£…</p>
<p><a target="_blank" rel="noopener" href="https://diandeng.tech/dev">https://diandeng.tech/dev</a></p>
<p>file-preference-æ·»åŠ url</p>
<p>ç”¨æ³•ï¼š</p>
<p>é€‰æ‹©åˆé€‚çš„å¼€å‘æ¿</p>
<p><img src="/2023/10/03/esp32/image-20231004120828505.png" alt="image-20231004120828505"></p>
<p>file-exampleæœ‰ç¤ºä¾‹</p>
<h3 id="vscode-platform-Ardunio"><a href="#vscode-platform-Ardunio" class="headerlink" title="vscode platform Ardunio"></a>vscode platform Ardunio</h3><p>ä¸‹è½½æ‰©å±•-platformio ide</p>
<p><img src="/2023/10/03/esp32/image-20231004115737807.png" alt="image-20231004115737807"></p>
<p>è¿›å…¥PIO HOME-new project</p>
<p>é€‰æ‹©å¯¹åº”å›ºä»¶ï¼Œè®¾ç½®æ–‡ä»¶è·¯å¾„</p>
<p><img src="/2023/10/03/esp32/image-20231004115838083.png" alt="image-20231004115838083"></p>
<p>src/main.cpp</p>
<p><img src="/2023/10/03/esp32/image-20231004115651990.png" alt="image-20231004115651990"></p>
<h3 id="python"><a href="#python" class="headerlink" title="python"></a>python</h3><h5 id="ide"><a href="#ide" class="headerlink" title="ide"></a>ide</h5><p>thonny</p>
<h5 id="pyè§£é‡Šå™¨"><a href="#pyè§£é‡Šå™¨" class="headerlink" title="pyè§£é‡Šå™¨"></a>pyè§£é‡Šå™¨</h5><p>micro-python</p>
<p><a target="_blank" rel="noopener" href="https://micropython.org/download/?port=esp32">https://micropython.org/download/?port=esp32</a></p>
<p>ä¸‹è½½æ—¶éœ€æŸ¥çœ‹æ˜¯å¦æ”¯æŒå¼€å‘æ¿</p>
<h1 id="esp32cam"><a href="#esp32cam" class="headerlink" title="esp32cam"></a>esp32cam</h1><h3 id="æ•™ç¨‹"><a href="#æ•™ç¨‹" class="headerlink" title="æ•™ç¨‹"></a>æ•™ç¨‹</h3><p>è§†é¢‘</p>
<p><a target="_blank" rel="noopener" href="https://b23.tv/KhJSCsR">https://b23.tv/KhJSCsR</a></p>
<p>è¯¾ä»¶</p>
<p><a target="_blank" rel="noopener" href="https://doc.itprojects.cn/0006.zhishi.esp32/02.doc/index.html#/">https://doc.itprojects.cn/0006.zhishi.esp32/02.doc/index.html#/</a></p>
<h3 id="å‡ ä¸ªæŠ¥é”™"><a href="#å‡ ä¸ªæŠ¥é”™" class="headerlink" title="å‡ ä¸ªæŠ¥é”™"></a>å‡ ä¸ªæŠ¥é”™</h3><h5 id="å†…å­˜ä¸è¶³"><a href="#å†…å­˜ä¸è¶³" class="headerlink" title="å†…å­˜ä¸è¶³"></a>å†…å­˜ä¸è¶³</h5><p>æ”¹æˆhuge app</p>
<h5 id="ä¹±ç "><a href="#ä¹±ç " class="headerlink" title="ä¹±ç "></a>ä¹±ç </h5><p>è°ƒæ•´å­—ç¬¦ç¼–ç å’Œæ³¢ç‰¹ç‡</p>
<p><img src="/2023/10/03/esp32/image-20231004125235603.png" alt="image-20231004125235603"></p>
<h3 id="ç¼–ç "><a href="#ç¼–ç " class="headerlink" title="ç¼–ç "></a>ç¼–ç </h3><p><img src="/2023/10/03/esp32/image-20231006122136425.png" alt="image-20231006122136425"></p>
<p>ä¿®æ”¹ssid password</p>
<p><img src="/2023/10/03/esp32/image-20231006122227618.png" alt="image-20231006122227618"></p>
<p>modelé€‰æ‹©ai thinker</p>
<p>çƒ§è¿›å»</p>
<p>åœ¨ä¸²å£ç›‘è§†å™¨çœ‹è¿”å›çš„ä¿¡æ¯ï¼Œå°±æœ‰ç›‘æ§é¡µçš„ip</p>
<h1 id="esp32å­¦ä¹ "><a href="#esp32å­¦ä¹ " class="headerlink" title="esp32å­¦ä¹ "></a>esp32å­¦ä¹ </h1><p>é¢åŒ…æ¿</p>
<p>æœé‚¦çº¿ï¼Œåˆ†å…¬æ¯å¤´</p>
<h2 id="Arduinoè¯­æ³•"><a href="#Arduinoè¯­æ³•" class="headerlink" title="Arduinoè¯­æ³•"></a>Arduinoè¯­æ³•</h2><h3 id="åŸºæœ¬æ¡†æ¶"><a href="#åŸºæœ¬æ¡†æ¶" class="headerlink" title="åŸºæœ¬æ¡†æ¶"></a>åŸºæœ¬æ¡†æ¶</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// put your setup code here, to run once:</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// put your main code here, to run repeatedly:</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…ˆæ‰§è¡Œä¸€ésetupï¼Œå†å¾ªç¯æ‰§è¡Œloop</p>
<h3 id="å¸¸ç”¨å‡½æ•°"><a href="#å¸¸ç”¨å‡½æ•°" class="headerlink" title="å¸¸ç”¨å‡½æ•°"></a>å¸¸ç”¨å‡½æ•°</h3><p><img src="/2023/10/03/esp32/image-20231006123405470.png" alt="image-20231006123405470"></p>
<h2 id="gpioæ§åˆ¶led"><a href="#gpioæ§åˆ¶led" class="headerlink" title="gpioæ§åˆ¶led"></a>gpioæ§åˆ¶led</h2><p>gpioå¤åˆ¶è¾“å…¥è¾“å‡ºç”µå‹ï¼Œå¼€å‘æ¿ä¸ŠDå¼€å¤´çš„éƒ½æ˜¯è¿™ç§</p>
<h3 id="ç”µå¹³"><a href="#ç”µå¹³" class="headerlink" title="ç”µå¹³"></a>ç”µå¹³</h3><p>æŸç‚¹çš„ç”µå‹ï¼ˆå¯¹å…¬å…±å‚è€ƒç‚¹ï¼‰æ˜¯é«˜è¿˜æ˜¯ä½</p>
<p>esp32ä¸­é«˜ç”µå¹³å¤§äº2.5vï¼Œä½ç”µå¹³å°äº0.5v</p>
<h3 id="LED"><a href="#LED" class="headerlink" title="LED"></a>LED</h3><p>å‘å…‰äºŒæç®¡</p>
<p>é€šè¿‡5maç”µæµå°±å¯ä»¥å‘å…‰ï¼Œå·¥ä½œç”µæµ3ma-29maä¹‹é—´ï¼Œç”µæµè¿‡å¤§ä¼šçƒ§æ¯</p>
<p>ä¸€èˆ¬åœ¨ledç®¡è„šä¸²è”ä¸€ä¸ªç”µé˜»ï¼Œé¿å…ç”µæµè¿‡å¤§ï¼Œã€é™æµç”µé˜»ã€‘</p>
<p>ledå‘å…‰æ—¶ï¼Œä¸¤ç«¯ç”µå‹1.7vï¼Œå¯¼é€šå‹é™</p>
<p><img src="/2023/10/03/esp32/image-20231006122854715.png" alt="image-20231006122854715"></p>
<p>é˜³ævccæ¥ç”µæºï¼Œé˜´ægndæ¥åœ°</p>
<h3 id="ç”µè·¯"><a href="#ç”µè·¯" class="headerlink" title="ç”µè·¯"></a>ç”µè·¯</h3><p><img src="/2023/10/03/esp32/image-20231006122951871.png" alt="image-20231006122951871"></p>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><h5 id="ç‚¹äº®"><a href="#ç‚¹äº®" class="headerlink" title="ç‚¹äº®"></a>ç‚¹äº®</h5><p><img src="/2023/10/03/esp32/image-20231006123610487.png" alt="image-20231006123610487"></p>
<p>çƒ§å½•æ—¶æŒ‰ä½bootæŒ‰é”®ï¼Ÿ</p>
<p>é—ªçƒ</p>
<p> <img src="/2023/10/03/esp32/image-20231006123801187.png" alt="image-20231006123801187"></p>
<h5 id="æµæ°´ç¯"><a href="#æµæ°´ç¯" class="headerlink" title="æµæ°´ç¯"></a>æµæ°´ç¯</h5><p>æŠŠpinå†™åˆ°æ•°ç»„é‡Œ</p>
<p><img src="/2023/10/03/esp32/image-20231006124015151.png" alt="image-20231006124015151"></p>
<p><img src="/2023/10/03/esp32/image-20231006124119941.png" alt="image-20231006124119941"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/09/21/pdf%E5%85%A8%E6%96%87%E7%BF%BB%E8%AF%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/09/21/pdf%E5%85%A8%E6%96%87%E7%BF%BB%E8%AF%91/" itemprop="url">pdfå…¨æ–‡ç¿»è¯‘</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-09-21T22:45:19+08:00">
                2023-09-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å…ˆè¯´å¤§ä½¬å†™çš„å¤ªå¼ºäº†</p>
<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><ul>
<li>æŠŠè¦ç¿»è¯‘çš„æ–‡ä»¶å¤åˆ¶åˆ°trans/input_fileæ–‡ä»¶å¤¹</li>
<li>æ‰“å¼€trans_file.py ï¼Œç¬¬39è¡Œï¼Œä¿®æ”¹æ–‡ä»¶å</li>
<li>ç°åœ¨é»˜è®¤testï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ”¹åä¸ºtest</li>
<li>è¿è¡Œtrans_file.py</li>
<li>è¾“å‡ºæ–‡ä»¶åœ¨output_fileæ–‡ä»¶å¤¹</li>
</ul>
<p>å¯ç»´æŠ¤ï¼š</p>
<p>é‡å†™ä¸€ä¸‹è·¯å¾„ï¼Œç½‘é¡µç‰ˆä¸çŸ¥é“æ€ä¹ˆå¼„</p>
<p><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans">https://github.com/QPromise/EasyTrans</a></p>
<h1 id="EasyTrans"><a href="#EasyTrans" class="headerlink" title="EasyTrans"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#easytrans">EasyTrans</a></h1><h2 id="2019-12-14è¯´æ˜"><a href="#2019-12-14è¯´æ˜" class="headerlink" title="2019.12.14è¯´æ˜"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#20191214%E8%AF%B4%E6%98%8E">2019.12.14è¯´æ˜</a></h2><ul>
<li>ç”±äºä¹‹å‰<a target="_blank" rel="noopener" href="https://github.com/pymupdf/PyMuPDF">PyMupDF</a>åŒ…æ›´æ–°åˆ°1.16.9ç‰ˆæœ¬ï¼Œå‡½æ•°è¿›è¡Œäº†æ”¹åŠ¨é€ æˆäº†ç¨‹åºè¿è¡Œé”™è¯¯ï¼ŒæœªåŠæ—¶è·Ÿè¿›æ›´æ–°ç»™å„ä½å¸¦æ¥çš„ä¸ä¾¿æ·±æ„ŸæŠ±æ­‰ï¼Œå½“å‰å·²è¿›è¡Œä¿®å¤ã€‚</li>
<li>å¿…åº”ç¿»è¯‘æ¥å£ç°åœ¨å·²ä¸èƒ½ä½¿ç”¨ï¼Œæ–°å¢ç™¾åº¦ç¿»è¯‘æ¥å£ï¼Œéœ€è¦æ¢æˆè‡ªå·±çš„APIï¼Œç”³è¯·ç‚¹<a target="_blank" rel="noopener" href="http://api.fanyi.baidu.com/api/trans">è¿™é‡Œ</a></li>
</ul>
<h2 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#%E7%9B%AE%E7%9A%84">ç›®çš„</a></h2><ul>
<li>çœ‹è‹±æ–‡è®ºæ–‡å»å„ä¸ªç¿»è¯‘ç½‘ç«™å¯¹æ¯”ç¿»è¯‘ç»“æœçš„æ—¶é—´æ¶ˆè€—ã€‚</li>
<li>ä¸‹è½½ç¿»è¯‘åçš„pdfä»¥åŠwordè¦èŠ±é’±ï¼Œå¦‚ç¿»è¯‘ç‹—ï¼Œæœ‰é“ç­‰ã€‚</li>
<li>å¿…åº”çš„è‹±è¯‘æ±‰ç¿»è¯‘æ–‡æ¡£æ—¶ä¸ªäººè®¤ä¸ºæ¯”è¾ƒå¥½ç”¨ã€‚ï¼ˆåŸæ¥çš„å¿…åº”ç¿»è¯‘å·²å¼ƒç”¨ï¼Œå¯è‡ªå·±å®ç°ï¼‰</li>
</ul>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#%E5%AE%9E%E7%8E%B0">å®ç°</a></h2><ul>
<li>åŸºäºdjangoã€PyMuPdfã€è°·æ­Œã€æœ‰é“ç¿»è¯‘å®ç°äº†pdfè‹±è¯‘æ±‰çš„åŠŸèƒ½ï¼Œç¿»è¯‘åçš„pdfæ ¼å¼åŸºæœ¬ä¿æŒä¸å˜ï¼Œå¯ä»¥ä¸‹è½½docxå’Œpdfæ ¼å¼çš„ç¿»è¯‘æ–‡æ¡£ï¼Œç®€å•çš„æ»¡è¶³çœ‹è®ºæ–‡ä»¥åŠå†™æ€»ç»“çš„éœ€æ±‚ã€‚</li>
</ul>
<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#%E9%97%AE%E9%A2%98">é—®é¢˜</a></h2><ul>
<li>wordä¸èƒ½å®ç°pdfä¸€æ ·çš„æ’ç‰ˆï¼Œç¿»è¯‘åçš„pdfè¿˜æ˜¯å­˜åœ¨æ ·å¼é—®é¢˜ï¼ˆéœ€è¦è€ƒè™‘çš„å¾ˆå¤šï¼Œæ…¢æ…¢åšä¼˜åŒ–ï¼‰ã€‚</li>
<li>è¡¨æ ¼æ— æ³•å†™å…¥ï¼Œå…¬ç¤ºæ··ä¹±ã€‚</li>
<li>æœç‹—ç¿»è¯‘æ¥å£æœªå®ç°ã€‚</li>
<li>æœ‰é“ç¿»è¯‘é•¿å¥å­æœ‰é—®é¢˜ï¼Œå»ºè®®ä½¿ç”¨è°·æ­Œã€ç™¾åº¦ã€‚</li>
</ul>
<h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#%E7%8E%AF%E5%A2%83">ç¯å¢ƒ</a></h2><blockquote>
<p>å¼€å‘ç¯å¢ƒçš„ç³»ç»Ÿå¹³å°ä¸º Windows 10 ï¼ˆ64 ä½ï¼‰ï¼ŒPython ç‰ˆæœ¬ä¸º 3.6 ï¼ˆ64 ä½ï¼‰ï¼ŒDjangoç‰ˆæœ¬ä¸º 2.2</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">atomicwrites==1.3.0</span><br><span class="line">attrs==19.1.0</span><br><span class="line">certifi==2019.3.9</span><br><span class="line">chardet==3.0.4</span><br><span class="line">colorama==0.4.1</span><br><span class="line">Django==2.2.1</span><br><span class="line">docx==0.2.4</span><br><span class="line">idna==2.8</span><br><span class="line">Js2Py==0.63</span><br><span class="line">lxml==4.3.3</span><br><span class="line">more-itertools==7.0.0</span><br><span class="line">pdfminer3k==1.3.1</span><br><span class="line">Pillow==6.0.0</span><br><span class="line">pluggy==0.11.0</span><br><span class="line">ply==3.11</span><br><span class="line">py==1.8.0</span><br><span class="line">PyExecJS==1.5.1</span><br><span class="line">pyjsparser==2.7.1</span><br><span class="line">PyMuPDF==1.16.9</span><br><span class="line">PyPDF2==1.26.0</span><br><span class="line">pytest==4.5.0</span><br><span class="line">python-docx==0.8.10</span><br><span class="line">pytz==2019.1</span><br><span class="line">requests==2.21.0</span><br><span class="line">six==1.12.0</span><br><span class="line">sqlparse==0.3.0</span><br><span class="line">tzlocal==1.5.1</span><br><span class="line">urllib3==1.24.3</span><br><span class="line">wcwidth==0.1.7</span><br></pre></td></tr></table></figure>

<p>â€‹      </p>
<h2 id="å±•ç¤º"><a href="#å±•ç¤º" class="headerlink" title="å±•ç¤º"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#%E5%B1%95%E7%A4%BA">å±•ç¤º</a></h2><p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/c1423fec0aafbd703f7842b0f4a68167b1ccec49625df8d3e7a4a76688026531/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30352f32342f3563653766306138323566363832303039332e676966"><img src="/2023/09/21/pdf%E5%85%A8%E6%96%87%E7%BF%BB%E8%AF%91/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30352f32342f3563653766306138323566363832303039332e676966.gif" alt="yanshi4.gif"></a>       </p>
<p> <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/59523b04de707bc6fe6fee24444cf69a1cce81742bf3bbe2b4c6bf8ba8ca1148/68747470733a2f2f73322e617831782e636f6d2f323031392f30352f32342f5669376a79742e676966"><img src="/2023/09/21/pdf%E5%85%A8%E6%96%87%E7%BF%BB%E8%AF%91/68747470733a2f2f73322e617831782e636f6d2f323031392f30352f32342f5669376a79742e676966.gif" alt="Vi7jyt.gif"></a>       </p>
<p> <a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/be900bd6ee70870b4ba7e576359b5ad84bdeb89622e89c69aa8ec0acd7312689/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30352f32332f3563653661663039623464643634353336342e676966"><img src="/2023/09/21/pdf%E5%85%A8%E6%96%87%E7%BF%BB%E8%AF%91/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30352f32332f3563653661663039623464643634353336342e676966.gif" alt="yasnhi.gif"></a>      </p>
<h2 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3">å‚è€ƒæ–‡æ¡£</a></h2><p><a target="_blank" rel="noopener" href="https://pymupdf.readthedocs.io/en/latest/">PyMuPDFå‚è€ƒæ–‡æ¡£</a></p>
<h2 id="åªä½¿ç”¨pdfç¿»è¯‘"><a href="#åªä½¿ç”¨pdfç¿»è¯‘" class="headerlink" title="åªä½¿ç”¨pdfç¿»è¯‘"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#%E5%8F%AA%E4%BD%BF%E7%94%A8pdf%E7%BF%BB%E8%AF%91">åªä½¿ç”¨pdfç¿»è¯‘</a></h2><blockquote>
<h3 id="å¦‚æœåªæ˜¯æƒ³è¦æ‹¿æ¥ç¿»è¯‘è®ºæ–‡çš„åŒå­¦çœ‹è¿™é‡Œ"><a href="#å¦‚æœåªæ˜¯æƒ³è¦æ‹¿æ¥ç¿»è¯‘è®ºæ–‡çš„åŒå­¦çœ‹è¿™é‡Œ" class="headerlink" title="å¦‚æœåªæ˜¯æƒ³è¦æ‹¿æ¥ç¿»è¯‘è®ºæ–‡çš„åŒå­¦çœ‹è¿™é‡Œ"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#%E5%A6%82%E6%9E%9C%E5%8F%AA%E6%98%AF%E6%83%B3%E8%A6%81%E6%8B%BF%E6%9D%A5%E7%BF%BB%E8%AF%91%E8%AE%BA%E6%96%87%E7%9A%84%E5%90%8C%E5%AD%A6%E7%9C%8B%E8%BF%99%E9%87%8C">å¦‚æœåªæ˜¯æƒ³è¦æ‹¿æ¥ç¿»è¯‘è®ºæ–‡çš„åŒå­¦çœ‹è¿™é‡Œ</a></h3></blockquote>
<ul>
<li>ä¸‹è½½è¯¥é¡¹ç›®åè®°å¾—å°†æ–‡ä»¶å¤¹åç”±Easy-Trans-masteræ”¹ä¸ºEasyTransã€‚</li>
<li>å°†è¦ç¿»è¯‘çš„æ–‡ä»¶æ”¾åˆ°<a target="_blank" rel="noopener" href="https://github.com/QPromise/Easy-Trans/tree/master/trans/input_file">input_file</a>è¿™ä¸ªç›®å½•ä¸­ï¼Œå°†39è¡Œçš„ä»£ç æœ€åçš„pdfåå­—ä¿®æ”¹ä¸ºè¦ç¿»è¯‘çš„pdfåå­—ã€‚</li>
<li>è¿è¡Œ<a target="_blank" rel="noopener" href="https://github.com/QPromise/Easy-Trans/blob/master/trans_file.py">trans_file.py</a>ç­‰ä»£ç æ‰§è¡Œç»“æŸï¼Œç¿»è¯‘åçš„æ–‡æ¡£å°±åœ¨<a target="_blank" rel="noopener" href="https://github.com/QPromise/Easy-Trans/tree/master/trans/output_file">output_file</a>è¿™ä¸ªç›®å½•ä¸‹é¢ã€‚</li>
<li>è¿™é‡Œé‡‡ç”¨çš„æ˜¯å¿…åº”ç¿»è¯‘ï¼Œä¹Ÿå¯ä»¥è‡ªå·±ä¿®æ”¹ä¸ºå…¶å®ƒè‡ªå·±æƒ³ç”¨çš„ç¿»è¯‘æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹ç›®å½•ï¼Œæ–¹ä¾¿è‡ªå·±è¿è¡Œç¿»è¯‘å°±å¯ä»¥äº†ã€‚å¦‚æœæœ‰å¥½çš„æ”¹è¿›pdfç¿»è¯‘æ•ˆæœçš„å»ºè®®æˆ–è€…é—®é¢˜è”ç³»<a href="mailto:qcs@stu.ouc.edu.cn">qcs@stu.ouc.edu.cn</a>ã€‚</li>
</ul>
<h2 id="åœ¨æœ¬åœ°è¿è¡Œé¡¹ç›®"><a href="#åœ¨æœ¬åœ°è¿è¡Œé¡¹ç›®" class="headerlink" title="åœ¨æœ¬åœ°è¿è¡Œé¡¹ç›®"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#%E5%9C%A8%E6%9C%AC%E5%9C%B0%E8%BF%90%E8%A1%8C%E9%A1%B9%E7%9B%AE">åœ¨æœ¬åœ°è¿è¡Œé¡¹ç›®</a></h2><h3 id="1-å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°-ä¸ä½¿ç”¨gitå·¥å…·çš„è¯ï¼Œç›´æ¥ä¸‹è½½å°±ok"><a href="#1-å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°-ä¸ä½¿ç”¨gitå·¥å…·çš„è¯ï¼Œç›´æ¥ä¸‹è½½å°±ok" class="headerlink" title="1.å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°(ä¸ä½¿ç”¨gitå·¥å…·çš„è¯ï¼Œç›´æ¥ä¸‹è½½å°±ok)"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#1%E5%85%8B%E9%9A%86%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%AC%E5%9C%B0%E4%B8%8D%E4%BD%BF%E7%94%A8git%E5%B7%A5%E5%85%B7%E7%9A%84%E8%AF%9D%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%E5%B0%B1ok">1.å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°(ä¸ä½¿ç”¨gitå·¥å…·çš„è¯ï¼Œç›´æ¥ä¸‹è½½å°±ok)</a></h3><p>æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¿›å…¥åˆ°ä¿å­˜é¡¹ç›®çš„æ–‡ä»¶å¤¹ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š<br> <code>https://github.com/QPromise/Easy-Trans.git</code> </p>
<h3 id="2-åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆä¸ä½¿ç”¨å¯ä»¥è·³è¿‡è¿™é‡Œï¼‰"><a href="#2-åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆä¸ä½¿ç”¨å¯ä»¥è·³è¿‡è¿™é‡Œï¼‰" class="headerlink" title="2.åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆä¸ä½¿ç”¨å¯ä»¥è·³è¿‡è¿™é‡Œï¼‰"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#2%E5%88%9B%E5%BB%BA%E5%B9%B6%E6%BF%80%E6%B4%BB%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%8D%E4%BD%BF%E7%94%A8%E5%8F%AF%E4%BB%A5%E8%B7%B3%E8%BF%87%E8%BF%99%E9%87%8C">2.åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆä¸ä½¿ç”¨å¯ä»¥è·³è¿‡è¿™é‡Œï¼‰</a></h3><p>å¼ºçƒˆæ¨èåœ¨ Virtualenv ä¸‹è¿›è¡Œ Django çš„å¼€å‘ã€‚Virtualenv æ˜¯ä¸€ä¸ª Python å·¥å…·ï¼Œä½¿ç”¨å®ƒå¯ä»¥åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ Python ç¯å¢ƒã€‚</p>
<p>åœ¨å‘½ä»¤è¡Œè¿›å…¥åˆ°ä¿å­˜è™šæ‹Ÿç¯å¢ƒçš„æ–‡ä»¶å¤¹ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š<br> <code>C:\WINDOWS\system32&gt;pip install virtualenv</code><br> <code>C:\WINDOWS\system32&gt;virtualenv C:\Users\Envs\EasyTrans_env</code><br> <code>C:\WINDOWS\system32&gt;C:\Users\Envs\EasyTrans_env\Scripts\activate</code><br> <code>(EasyTrans_env) C:\WINDOWS\system32&gt;</code></p>
<h3 id="3-å®‰è£…é¡¹ç›®ä¾èµ–"><a href="#3-å®‰è£…é¡¹ç›®ä¾èµ–" class="headerlink" title="3.å®‰è£…é¡¹ç›®ä¾èµ–"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#3%E5%AE%89%E8%A3%85%E9%A1%B9%E7%9B%AE%E4%BE%9D%E8%B5%96">3.å®‰è£…é¡¹ç›®ä¾èµ–</a></h3><p><a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/1be68a4c5470edba37add88a66eee1e6ddcf71357d22678bfdddcbf1a4126971/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30352f32342f3563653736313234626435653035383435302e706e67"><img src="/2023/09/21/pdf%E5%85%A8%E6%96%87%E7%BF%BB%E8%AF%91/68747470733a2f2f692e6c6f6c692e6e65742f323031392f30352f32342f3563653736313234626435653035383435302e706e67.png" alt="%(POS)~0M$(N5HXNAR$BUM.png"></a></p>
<p>å¦‚æœä½¿ç”¨äº†è™šæ‹Ÿç¯å¢ƒï¼Œç¡®ä¿æ¿€æ´»å¹¶è¿›å…¥äº†è™šæ‹Ÿç¯å¢ƒï¼Œåœ¨å‘½ä»¤è¡Œè¿›å…¥é¡¹ç›®æ‰€åœ¨çš„ Easy-Trans æ–‡ä»¶å¤¹ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š<br> <code>pip install -r requirements.txt</code></p>
<h3 id="4-æ•°æ®åº“è¿ç§»"><a href="#4-æ•°æ®åº“è¿ç§»" class="headerlink" title="4.æ•°æ®åº“è¿ç§»"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#4%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%81%E7%A7%BB">4.æ•°æ®åº“è¿ç§»</a></h3><p>å‘½ä»¤è¡Œè¾“å…¥<br> <code>python manage.py makemigrations</code><br> <code>python manage.py migrate</code></p>
<h3 id="5-åˆ›å»ºåå°ç®¡ç†å‘˜ç”¨æˆ·"><a href="#5-åˆ›å»ºåå°ç®¡ç†å‘˜ç”¨æˆ·" class="headerlink" title="5.åˆ›å»ºåå°ç®¡ç†å‘˜ç”¨æˆ·"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#5%E5%88%9B%E5%BB%BA%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E5%91%98%E7%94%A8%E6%88%B7">5.åˆ›å»ºåå°ç®¡ç†å‘˜ç”¨æˆ·</a></h3><p>å‘½ä»¤è¡Œè¾“å…¥<br> <code>python manage.py createsuperuser</code></p>
<h3 id="6-è¿è¡Œå¼€å‘æœåŠ¡å™¨"><a href="#6-è¿è¡Œå¼€å‘æœåŠ¡å™¨" class="headerlink" title="6.è¿è¡Œå¼€å‘æœåŠ¡å™¨"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#6%E8%BF%90%E8%A1%8C%E5%BC%80%E5%8F%91%E6%9C%8D%E5%8A%A1%E5%99%A8">6.è¿è¡Œå¼€å‘æœåŠ¡å™¨</a></h3><p>å‘½ä»¤è¡Œè¾“å…¥<br> <code>python manage.py runserver</code><br> åœ¨æµè§ˆå™¨è¾“å…¥ï¼š127.0.0.1:8000 å°±å¯ä»¥çœ‹åˆ°ä¸»é¡µäº†ã€‚</p>
<h2 id="å»ºè®®"><a href="#å»ºè®®" class="headerlink" title="å»ºè®®"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#%E5%BB%BA%E8%AE%AE">å»ºè®®</a></h2><p>æ¬¢è¿å„ä½ç»™å‡ºå»ºè®®æˆ–è€…æ–¹æ³•ï¼Œé‚®ç®±ï¼š<a href="mailto:qcs@stu.ouc.edu.cn">qcs@stu.ouc.edu.cn</a></p>
<h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a><a target="_blank" rel="noopener" href="https://github.com/QPromise/EasyTrans#%E6%B3%A8%E6%84%8F">æ³¨æ„</a></h2><p>fitzè¿™ä¸ªåŒ…æ˜¯PyMuPDFçš„ï¼Œåªè¦å®‰è£…PyMuPDFå°±å¯ä»¥æ­£å¸¸å¯¼å…¥äº†ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/09/20/appium/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/09/20/appium/" itemprop="url">appium</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-09-20T20:54:46+08:00">
                2023-09-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-é…ç¯å¢ƒ"><a href="#1-é…ç¯å¢ƒ" class="headerlink" title="1.é…ç¯å¢ƒ"></a>1.é…ç¯å¢ƒ</h1><h2 id="appiumï¼Œsdkç¯å¢ƒ"><a href="#appiumï¼Œsdkç¯å¢ƒ" class="headerlink" title="appiumï¼Œsdkç¯å¢ƒ"></a>appiumï¼Œsdkç¯å¢ƒ</h2><p><a target="_blank" rel="noopener" href="https://www.byhy.net/tut/auto/appium/01/">https://www.byhy.net/tut/auto/appium/01/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1tE411n7rV/?p=4&amp;vd_source=3d040baeb67aeceb2bba9c7169a67a96">https://www.bilibili.com/video/BV1tE411n7rV/?p=4&amp;vd_source=3d040baeb67aeceb2bba9c7169a67a96</a></p>
<h2 id="å¤œç¥æ¨¡æ‹Ÿå™¨"><a href="#å¤œç¥æ¨¡æ‹Ÿå™¨" class="headerlink" title="å¤œç¥æ¨¡æ‹Ÿå™¨"></a>å¤œç¥æ¨¡æ‹Ÿå™¨</h2><p><a target="_blank" rel="noopener" href="https://support.yeshen.com/zh-CN/often/vt">https://support.yeshen.com/zh-CN/often/vt</a></p>
<h3 id="äºŒï¼Œå¤œç¥æ¨¡æ‹Ÿå™¨"><a href="#äºŒï¼Œå¤œç¥æ¨¡æ‹Ÿå™¨" class="headerlink" title="äºŒï¼Œå¤œç¥æ¨¡æ‹Ÿå™¨"></a>äºŒï¼Œå¤œç¥æ¨¡æ‹Ÿå™¨</h3><h4 id="1ï¼Œä¸‹è½½ã€å®‰è£…"><a href="#1ï¼Œä¸‹è½½ã€å®‰è£…" class="headerlink" title="1ï¼Œä¸‹è½½ã€å®‰è£…"></a>1ï¼Œä¸‹è½½ã€å®‰è£…</h4><p>1.1ï¼Œä¸‹è½½ã€‚å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://www.yeshen.com/">https://www.yeshen.com/</a></p>
<p>1.2ï¼Œå®‰è£…ã€‚å¯è‡ªå®šä¹‰å®‰è£…è·¯å¾„ï¼Œè¿‡ç¨‹ç®€å•ã€‚å®‰è£…å®Œæˆåç”µè„‘æ¡Œé¢ä¼šå‡ºç°ä¸¤ä¸ªå¿«æ·æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="/2023/09/20/appium/3da35e70a2804dfd87c4f21ab08b422e.png" alt="å¾®ä¿¡å›¾ç‰‡_20220424200650.png"></p>
<h1 id="ç¬¬ä¸€ä¸ªç¨‹åº"><a href="#ç¬¬ä¸€ä¸ªç¨‹åº" class="headerlink" title="ç¬¬ä¸€ä¸ªç¨‹åº"></a>ç¬¬ä¸€ä¸ªç¨‹åº</h1><h2 id="Python-Appiumè‡ªåŠ¨åŒ–æµ‹è¯•-2-appiumè¿æ¥çœŸæœºå¯åŠ¨app"><a href="#Python-Appiumè‡ªåŠ¨åŒ–æµ‹è¯•-2-appiumè¿æ¥çœŸæœºå¯åŠ¨app" class="headerlink" title="Python+Appiumè‡ªåŠ¨åŒ–æµ‹è¯•(2)-appiumè¿æ¥çœŸæœºå¯åŠ¨app"></a>Python+Appiumè‡ªåŠ¨åŒ–æµ‹è¯•(2)-appiumè¿æ¥çœŸæœºå¯åŠ¨app</h2><p>appè‡ªåŠ¨åŒ–æµ‹è¯•çš„ç¬¬ä¸€æ­¥ï¼Œæ˜¯å¯åŠ¨è¢«æµ‹appã€‚<a target="_blank" rel="noopener" href="https://www.cnblogs.com/lfr0123/p/13512668.html?spm=a2c6h.12873639.article-detail.9.e7a81fe5W1WtFO#">appiumç¯å¢ƒæ­å»º</a>å¥½åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿æ¥çœŸæœºå¯åŠ¨appäº†ã€‚ç¯å¢ƒä¸ºwindowsï¼ŒAppium1.18.0ï¼ŒAndroidæ‰‹æœºï¼Œè¢«æµ‹appä¸ºä»Šæ—¥å¤´æ¡appï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ã€‚</p>
<h3 id="ä¸€ï¼Œè¿æ¥æ‰‹æœºï¼ˆæµ‹è¯•æœºï¼‰"><a href="#ä¸€ï¼Œè¿æ¥æ‰‹æœºï¼ˆæµ‹è¯•æœºï¼‰" class="headerlink" title="ä¸€ï¼Œè¿æ¥æ‰‹æœºï¼ˆæµ‹è¯•æœºï¼‰"></a>ä¸€ï¼Œè¿æ¥æ‰‹æœºï¼ˆæµ‹è¯•æœºï¼‰</h3><ul>
<li>é€šè¿‡USBçº¿è¿æ¥Androidæ‰‹æœºå’Œç”µè„‘ï¼Œæ‰“å¼€æ‰‹æœºçš„å¼€å‘è€…æ¨¡å¼ï¼Œå¼€å¯USBè°ƒè¯•æ¨¡å¼ï¼ˆæ–¹æ³•è‡ªè¡Œç™¾åº¦ï¼‰ã€‚</li>
<li>æ‰“å¼€cmdè¾“å…¥å‘½ä»¤<code>adb devices</code>ï¼Œæ˜¾ç¤ºè¿æ¥æ‰‹æœºçš„udidå³ä¸ºè¿æ¥æˆåŠŸã€‚</li>
</ul>
<p><img src="/2023/09/20/appium/1240.webp" alt="img"></p>
<ul>
<li><p>è¾“å…¥adb devicesåå¦‚æœList of devices attachedä¸‹ä¸ºç©ºï¼Œè¯´æ˜æ‰‹æœºè¿æ¥ç”µè„‘æ²¡æœ‰æˆåŠŸã€‚å¯åšå¦‚ä¸‹å°è¯•ï¼š</p>
<p>1ï¼Œæ‹”æ‰æ‰‹æœºé‡æ–°è¿æ¥</p>
<p>2ï¼Œæ›´æ¢USBçº¿</p>
<p>3ï¼Œé‡å¯adbã€‚å…ˆæ€æ­»adbè¿›ç¨‹<strong>adb kill-server</strong>ï¼Œå†é‡å¯<strong>adb start-server</strong></p>
<p>4ï¼Œæ£€æŸ¥adbç‰ˆæœ¬ï¼Œç‰ˆæœ¬å¤ªä½åˆ™æ›´æ–°</p>
<p>è¿˜æœªè§£å†³çš„è¯ï¼Œå¯ä»¥ç½‘ä¸ŠæŸ¥æ‰¾å…¶ä»–æ–¹æ³•ã€‚</p>
</li>
</ul>
<h3 id="äºŒï¼Œè·å–æµ‹è¯•æ‰‹æœºåŠè¢«æµ‹appçš„ç›¸åº”ä¿¡æ¯ï¼ˆå³capabilityé…ç½®å†…å®¹ï¼‰"><a href="#äºŒï¼Œè·å–æµ‹è¯•æ‰‹æœºåŠè¢«æµ‹appçš„ç›¸åº”ä¿¡æ¯ï¼ˆå³capabilityé…ç½®å†…å®¹ï¼‰" class="headerlink" title="äºŒï¼Œè·å–æµ‹è¯•æ‰‹æœºåŠè¢«æµ‹appçš„ç›¸åº”ä¿¡æ¯ï¼ˆå³capabilityé…ç½®å†…å®¹ï¼‰"></a>äºŒï¼Œè·å–æµ‹è¯•æ‰‹æœºåŠè¢«æµ‹appçš„ç›¸åº”ä¿¡æ¯ï¼ˆå³capabilityé…ç½®å†…å®¹ï¼‰</h3><p>platformNameï¼Œå£°æ˜è¢«æµ‹æ‰‹æœºç³»ç»Ÿæ˜¯iosè¿˜æ˜¯Androidã€‚</p>
<p>platformVersionï¼Œå³æµ‹è¯•æ‰‹æœºçš„Androidç‰ˆæœ¬å·ã€‚å¯åœ¨æ‰‹æœºè®¾ç½®é‡Œé¢æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤<strong>adb shell getprop ro.build.version.release</strong>æŸ¥çœ‹ã€‚</p>
<p><img src="/2023/09/20/appium/1240-16952199938301.webp" alt="img"></p>
<p>deviceNameï¼Œå³æµ‹è¯•æ‰‹æœºçš„åç§°ã€‚å¯åœ¨æ‰‹æœºè®¾ç½®é‡Œé¢æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤<strong>adb devices -l</strong>æŸ¥çœ‹ï¼Œå…¶ä¸­modelå³ä¸ºè¿æ¥çš„æµ‹è¯•æœºçš„åç§°ã€‚</p>
<p><img src="/2023/09/20/appium/1240-16952199938312.webp" alt="img"></p>
<p>appPackageï¼Œå³è¢«æµ‹appçš„åŒ…åã€‚</p>
<p>appActivityï¼Œå³è¢«æµ‹appçš„launcherActivityã€‚é€šè¿‡å‘½ä»¤<strong>adb shell dumpsys activity | findstr â€œmResumeâ€</strong>æŸ¥çœ‹ï¼ˆå…ˆåœ¨æ‰‹æœºä¸Šæ‰“å¼€appï¼Œå†è¾“å…¥å‘½ä»¤ï¼‰ã€‚ä»¥ä»Šæ—¥å¤´æ¡appä¸ºä¾‹ã€‚</p>
<p><img src="/2023/09/20/appium/1240-16952199938313.webp" alt="img"></p>
<p>å¦‚æœæ‰‹æœºç³»ç»Ÿåœ¨Android 8.1ä»¥ä¸‹ï¼Œåˆ™éœ€ä½¿ç”¨å‘½ä»¤<strong>adb shell dumpsys activity | findstr â€œmFocusâ€</strong>æŸ¥çœ‹ã€‚</p>
<h3 id="ä¸‰ï¼Œappiumå¯åŠ¨app"><a href="#ä¸‰ï¼Œappiumå¯åŠ¨app" class="headerlink" title="ä¸‰ï¼Œappiumå¯åŠ¨app"></a>ä¸‰ï¼Œappiumå¯åŠ¨app</h3><p>ç”µè„‘æ‰“å¼€appiumï¼Œç‚¹å‡»â€œStart Serverâ€</p>
<p><img src="/2023/09/20/appium/1240-16952199938314.webp" alt="img"></p>
<p>å‡ºç°å¦‚ä¸‹é¡µé¢ï¼Œå†ç‚¹å‡»â€œStart Inspector Sessionâ€æŒ‰é’®</p>
<p><img src="/2023/09/20/appium/1240-16952199938315.webp" alt="img"></p>
<p>è¾“å…¥ç¬¬äºŒæ­¥è·å–çš„é…ç½®å†…å®¹ï¼Œç‚¹å‡»â€œStart Sessionâ€æŒ‰é’®ï¼ˆå¯å…ˆç‚¹å‡»3æ‰€æŒ‡çš„æŒ‰é’®ä¿å­˜ï¼Œä¸‹æ¬¡ç›´æ¥é€‰æ‹©å³å¯ï¼‰ã€‚</p>
<p><img src="/2023/09/20/appium/1240-16952199938316.webp" alt="img"></p>
<p>æ­¤æ—¶ï¼Œå¦‚æœæµ‹è¯•æœºæ˜¯ç¬¬ä¸€æ¬¡è¿æ¥appiumçš„è¯ï¼Œæ‰‹æœºä¸Šä¼šæç¤ºå®‰è£…ä¸¤ä¸ªåº”ç”¨ï¼šAppium settingsã€io.appium.uiautomator2.serverï¼Œå®¹è®¸å®‰è£…ï¼Œä¸”å¿…é¡»å®‰è£…æˆåŠŸã€‚</p>
<p>å†æ¬¡ç‚¹å‡»ä¸Šå›¾ä¸­4æ‰€æŒ‡çš„â€œStart Sessionâ€æŒ‰é’®ï¼Œæˆ‘ä»¬ä¼šå‘ç°æ‰‹æœºä¸Šä¼šè‡ªåŠ¨å¯åŠ¨ä»Šæ—¥å¤´æ¡appï¼Œä¸”appiumä¼šå‡ºç°å¦‚ä¸‹çª—å£ã€‚</p>
<p><img src="/2023/09/20/appium/1240-16952199938317.webp" alt="img"></p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±æˆåŠŸåœ°é€šè¿‡appiumå¯åŠ¨äº†æµ‹è¯•æœºä¸Šçš„appã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªé¡µé¢æŸ¥çœ‹appå½“å‰é¡µé¢çš„å…ƒç´ çš„å±æ€§ï¼Œå¦‚ä¸‹å›¾ï¼Œ3æ‰€æŒ‡ä¾¿æ˜¯å¼¹çª—ã€æˆ‘çŸ¥é“äº†ã€‘æŒ‰é’®çš„å…ƒç´ å±æ€§ï¼Œç”¨äºåé¢è‡ªåŠ¨åŒ–æµ‹è¯•è¿‡ç¨‹ä¸­å…ƒç´ å®šä½ã€‚</p>
<p><img src="/2023/09/20/appium/1240-16952199938318.webp" alt="img"></p>
<h4 id="4ï¼Œpython-appiumå¯åŠ¨å¤œç¥æ¨¡æ‹Ÿå™¨ä¸­çš„APP"><a href="#4ï¼Œpython-appiumå¯åŠ¨å¤œç¥æ¨¡æ‹Ÿå™¨ä¸­çš„APP" class="headerlink" title="4ï¼Œpython+appiumå¯åŠ¨å¤œç¥æ¨¡æ‹Ÿå™¨ä¸­çš„APP"></a>4ï¼Œpython+appiumå¯åŠ¨å¤œç¥æ¨¡æ‹Ÿå™¨ä¸­çš„APP</h4><p>4.1ï¼Œè·å–å¤œç¥æ¨¡æ¨¡æ‹Ÿå™¨çš„è®¾å¤‡ä¿¡æ¯ï¼Œä»¥åŠè¢«æµ‹appçš„ä¿¡æ¯ï¼ˆä»¥ä»Šæ—¥å¤´æ¡APPä¸ºä¾‹ï¼‰ã€‚è·å–æ–¹æ³•è·Ÿåšå®¢<a target="_blank" rel="noopener" href="https://www.cnblogs.com/lfr0123/p/13512668.html?spm=a2c6h.12873639.article-detail.9.e7a81fe5W1WtFO">appiumè¿æ¥çœŸæœºå¯åŠ¨app</a>ä¸­ç¬¬äºŒéƒ¨åˆ†çš„æ–¹æ³•ä¸€æ ·ã€‚</p>
<p>4.2ï¼Œæ ¹æ®è·å–åˆ°çš„å‚æ•°ä¿¡æ¯ï¼Œç¼–å†™ç¤ºä¾‹è„šæœ¬å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line"># @author: ç»™ä½ ä¸€é¡µç™½çº¸</span><br><span class="line">from appium import webdriver</span><br><span class="line">desired_caps = &#123;</span><br><span class="line">    &quot;platformName&quot;: &quot;Android&quot;,</span><br><span class="line">    &quot;platformVersion&quot;: &quot;7.1.2&quot;,</span><br><span class="line">    &quot;deviceName&quot;: &quot;VOG_AL10&quot;,</span><br><span class="line">    &quot;appPackage&quot;: &quot;com.ss.android.article.news&quot;,</span><br><span class="line">    &quot;appActivity&quot;: &quot;.activity.MainActivity&quot;,</span><br><span class="line">    &quot;unicodeKeyboard&quot;: True,</span><br><span class="line">    &quot;resetKeyboard&quot;: True,</span><br><span class="line">    &quot;noReset&quot;: True,</span><br><span class="line">&#125;</span><br><span class="line"># å¯åŠ¨app</span><br><span class="line">driver = webdriver.Remote(&#x27;http://127.0.0.1:4723/wd/hub&#x27;, desired_caps)</span><br></pre></td></tr></table></figure>

<h1 id="ç‰ˆæœ¬éœ€è¦å¯¹åº”ï¼"><a href="#ç‰ˆæœ¬éœ€è¦å¯¹åº”ï¼" class="headerlink" title="==ç‰ˆæœ¬éœ€è¦å¯¹åº”ï¼=="></a>==ç‰ˆæœ¬éœ€è¦å¯¹åº”ï¼==</h1><p>ç›®å‰selenium4.12 appium-python-client2.11.1</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://developer-hq.github.io/2023/09/06/%E9%9F%B3%E4%B9%90%E8%B5%84%E6%BA%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2023/09/06/%E9%9F%B3%E4%B9%90%E8%B5%84%E6%BA%90/" itemprop="url">éŸ³ä¹èµ„æº</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-09-06T16:15:56+08:00">
                2023-09-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/2023/09/06/%E9%9F%B3%E4%B9%90%E8%B5%84%E6%BA%90/image-20230906161613137.png" alt="image-20230906161613137"></p>
<p><img src="/2023/09/06/%E9%9F%B3%E4%B9%90%E8%B5%84%E6%BA%90/image-20230906161647852.png" alt="image-20230906161647852"></p>
<p><img src="/2023/09/06/%E9%9F%B3%E4%B9%90%E8%B5%84%E6%BA%90/image-20230906161714180.png" alt="image-20230906161714180"></p>
<p><img src="/2023/09/06/%E9%9F%B3%E4%B9%90%E8%B5%84%E6%BA%90/image-20230906161736465.png" alt="image-20230906161736465"></p>
<p><img src="/2023/09/06/%E9%9F%B3%E4%B9%90%E8%B5%84%E6%BA%90/image-20230906161818825.png" alt="image-20230906161818825"></p>
<p><img src="/2023/09/06/%E9%9F%B3%E4%B9%90%E8%B5%84%E6%BA%90/image-20230906161834264.png" alt="image-20230906161834264"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/">
    
              
                  <span class="site-state-item-count">77</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
